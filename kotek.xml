<?xml version="1.0" encoding="UTF-8"?><tululoo version="130" uid="2444" title="" advancedscriptmode="0" imgfolder="img" audfolder="aud"><functions>mobb_left_hover = false;
mobb_right_hover = false;
mobb_jump_hover = false;

// - - PREFAB SYSTEM - - 
var prefab_all = [];
var prefab_len_last = 0;
var prefab_len_total = 0;
var previous_prefab;
var prefab_ceiling = "";
var previous_bank;
var prefab_autotile_connect = false;

var prefab_chars = {
	// blocks
	"G": o_bl_ground,
	"B": o_bl_brick,
	"C": o_bl_cloud,
	"R": o_bl_cave,
	"W": o_bl_woodenblock,
	"S": o_bl_sand,
	"Z": o_bl_bigbrick,
	"T": o_bl_tree,
	"L": o_bl_panel,
	"D": o_bl_wood,
	"H": o_bl_huge,
	"J": o_bl_woodenhuge,
	"F": o_bl_groundalt,
	"M": o_bl_metal,
	"P": o_bl_pipe,
	"K": o_bl_bridge,
	
	// enemies
	"r": o_enemy_rat,
	"s": o_enemy_spikes,
	"f": o_enemy_ratheli,
	"d": o_enemy_ratheli_stay,
	"k": o_enemy_cactus,
	"p": o_enemy_crusher,
	"m": o_enemy_missile,
	"g": o_enemy_rathuge,
	"i": o_enemy_fish,
	"j": o_enemy_fishjump,
	"l": o_enemy_shark,
	"z": o_enemy_fspike_l,
	"x": o_enemy_fspike_u,
	"q": o_enemy_floatingspike,
	"b": o_enemy_robot,
	"y": o_enemy_bigbot,
	
	// bonus
	"c": o_coin,
	"t": o_trampoline,
	
	// water
	"w": o_water,
	"[": o_watercurrent_l,
	"]": o_watercurrent_r,
	"{": o_watercurrent_u,
	"}": o_watercurrent_d,
	
	
	// vehicles
	"h": o_veh_heli,
	"n": o_sign_noheli,
	
	// platforms
	"&lt;": o_platform_move_l,
	"&gt;": o_platform_move_r,
	"^": o_platform_move_u,
	"v": o_platform_move_d,
	"=": o_platform,
	"-": o_platform_fall,
	"+": o_platform_lift,
	"|": o_platform_reverse,
	
	// conveyor belts
	"(": o_conveyor_l,
	")": o_conveyor_r
	
};

function prefab_deploy(px, py, prefab, gap = 0, gapcei = "") { 
	console.time("prefab deploy time");
	var content = prefab.content;
	if(prefab.content_alt != null) {
		if(Math.random() &gt; 0.5) content = prefab.content_alt;
	}
	var len = content.length;
	var cx = 0;
	var cy = 0;
	var ce = "";
	prefab_len_last = 0;
	for(i=0; i&lt;=len; i++) {
		ce = content[i]
		if(ce == ".") cx += 1;
		else if (ce == ",") {
			if(cx &gt; prefab_len_last) prefab_len_last = cx;
			cx = 0; 
			cy += 1;
		}
		else if (ce in prefab_chars) {
			prefab_newent(px+cx, py+cy, prefab_chars[ce]);
			cx += 1;
		}
	}
	//prefab_len_last += gap;
	prefab_len_total += prefab_len_last;
	prefab_deploy_empty(prefab_len_total, gap, gapcei);
	previous_prefab = prefab;
	console.timeEnd("prefab deploy time");
}

function prefab_deploy_empty(px, len, cei="") {
	prefab_len_total += len;
	if(cei == "") return;

	var cx = 0;
	var cy = 0;
	var ce = 0;
	for(i=0; i&lt;cei.length; i++) {
		if(cei[i] == ".") { cy += 1; continue; }
		if(cei[i] in prefab_chars == false) continue;
		var cur = prefab_chars[cei[i]];
		cx = 0;
		for(j=0; j&lt;len; j++) {
			prefab_newent(px+cx, cy, cur);
			cx += 1;
		}
		cy += 1;
	}
}

function prefab_bank(name="newbank") {
	this.name = name;
	this.length_min = 3;
	this.length_max = 5;
	this.gap_min = 2;
	this.gap_max = 4;
	this.ceiling = "";
	this.repeat = true;
	this.start = [];
	this.middle = [];
	this.end = [];
	this.hard = [];
	this.rare = [];
};

function prefab(bank, tags, content) {
	this.bank = bank;
	this.tags = tags;
	this.content = content;
	this.content_alt = null;
	prefab_all.push(this);
}

// Prefabs

var pr_spawnpoint = new prefab(0, 0, "\
,,,,\
...............c.c.c,\
..............GGGGGGG.,\
..............GGGGGGG.,\
.GGGGGGGGGG...GGGGGGG.,\
.GGGGGGGGGG...GGGGGGG.,\
.GGGGGGGGGG...GGGGGGG.,\
");

var pr_spawnpoint_short = new prefab(0, 0, "\
,,,,,,,\
.GGGGGG,\
.GGGGGG,\
.GGGGGG,\
");



// GRASS 1
var pr_grass1_m1 = new prefab(0, 0, "\
,,,,\
................r,\
..........sGGGGGG,\
......r...GGGGGGG,\
sGGGGGG...GGGGGGG,\
GGGGGGG...GGGGGGG,\
GGGGGGG...GGGGGGG,\
");
var pr_grass1_m2 = new prefab(0, 0, "\
............DDDDDDDDDD,\
..................cDDD,\
...................DDD,\
............DDDDD..DDD,\
............DDDc...DDD,\
......DDD...DDD....DDD,\
......DDD...DDD..DDDDD,\
DDD...DDD...DDD,\
DDD...DDD...DDD...........DDD,\
DDD...DDD...DDDDDDDDDDD...DDD,\
");
pr_grass1_m2.content_alt = "\
.DDDDDDDDDD,\
.DDDc,\
.DDD,\
.DDD..DDDDD,\
.DDD...cDDD,\
.DDD....DDD,\
.DDDDD..DDD,\
........DDD,\
........DDD,\
DDDDDDD.DDD,\
";

var pr_grass1_m3 = new prefab(0, 0, "\
,\
..........c.....c,\
,\
,\
,\
.................GGG,\
.................GGG,\
.................GGG,\
.........t.......GGG,\
GGGGGGGGGGG......GGG..\
");
var pr_grass1_m4 = new prefab(0, 0, "\
................GGG,\
................GGG,\
,\
,\
,\
........c.c.....GGG,\
......sGGGGGs...GGG,\
......GGGGGGG...GGG,\
GGG...GGGGGGG...GGG,\
GGG...GGGGGGG...GGG,\
");
var pr_grass1_m5 = new prefab(0, 0, "\
,\
,\
,\
....c,\
....s,\
....W,\
....W....,\
....W....,\
GGGGGGGGG,\
GGGGGGGGG,\
");
var pr_grass1_m6 = new prefab(0, 0, "\
,\
,\
,\
,\
,\
..........c,\
,\
........W...W,\
GGGGG...W...W...GGGGG,\
GGGGG...W...W...GGGGG,\
");
pr_grass1_m6.content_alt = "\
,\
,\
,\
,\
..........c,\
,\
........W...W,\
GGGGG...W...W...GGGGG,\
GGGGG...W...W...GGGGG,\
GGGGG...W...W...GGGGG,\
";
var pr_grass1_m7 = new prefab(0, 0, "\
,\
,\
,\
,\
............c,\
................W,\
............W...W........r,\
........W...W...W...GGGGGG,\
........W...W...W...GGGGGG,\
GGGGG...W...W...W...GGGGGG,\
");
var pr_grass1_m8 = new prefab(0, 0, "\
,\
,\
,\
,\
,\
,\
,\
,\
GGGGG....t......t.,\
GGGGG....W......W.,\
");

var pbank_grass1 = new prefab_bank("grass1");
pbank_grass1.length_min = 2;
pbank_grass1.length_max = 3;
pbank_grass1.gap_min = 3;
pbank_grass1.gap_max = 4;
pbank_grass1.repeat = false;
pbank_grass1.middle = [ pr_grass1_m1, pr_grass1_m2, pr_grass1_m3, pr_grass1_m4, pr_grass1_m5, pr_grass1_m6, pr_grass1_m7, pr_grass1_m8 ];


// CASTLE 1
var pr_castle1_s1 = new prefab(0, 0, "\
............BBBBBBBBBBBBBBBBB,\
..................cBBB,\
...................BBB,\
............BBBBB..BBB,\
............BBBc...BBB,\
......BBB...BBB....BBB,\
......BBB...BBB..BBBBB,\
BBB...BBB...BBB,\
BBB...BBB...BBB...........BBB,\
BBB...BBB...BBBBBBBBBBB...BBB,\
");
var pr_castle1_s2 = new prefab(0, 0, "\
.............BBBBBBBBBBBBBBBBBBBBBB,\
.............BBBc...............BBB,\
.............BBB................BBB,\
.............BBB..BBBBB,\
.............BBB...cBBBBBBBBB,\
.............BBB....BBB......,\
.............BBBBB..BBB.........BBB,\
....................BBB.....c...BBB,\
BBB.................BBB...BBB...BBB,\
BBB...BBB...BBBBBBBBBBB...BBB...BBB,\
");
var pr_castle1_s3 = new prefab(0, 0, "\
........BBBBBBBBBBBBBBB,\
.................s,\
................c,\
...............s,\
..........BBBBBBBBBB,\
.................s,\
,\
BBB............s,\
BBB.....BBBBBBBBBBBBBB,\
BBB.....BBBBBBBBBBBBBB,\
");
var pr_castle1_m1 = new prefab(0, 0, "\
BBBBBBBBBBBBBBBBBBB,\
,\
......B.....B,\
....BBBBBBBBBBB,\
.........s,\
,\
........c.c,\
BBBBBBssBBBssBBBBBB,\
BBBBBBBBBBBBBBBBBBB,\
BBBBBBBBBBBBBBBBBBB,\
");
var pr_castle1_m2 = new prefab(0, 0, "\
BBBBBBBBBBBBBBBBBBBBBBBBBBB,\
......W......W......W,\
......s......s......s,\
.....................,\
......c......c......c,\
......s.............s,\
......W......s......W,\
......W......W......W,\
BBBBBBBBBBBBBBBBBBBBBBBBBBB,\
BBBBBBBBBBBBBBBBBBBBBBBBBBB,\
");
var pr_castle1_m3 = new prefab(0, 0, "\
BBBBBBBBBB....BBBBBBBBBBBB,\
............p...BBBBBBBBBB,\
..........................,\
..........................,\
.......................cc.,\
..........................,\
..........p...........BBBB,\
........BBBBBBBB......BBBB,\
BBBBBBBBBBBBBBBBBBBB..BBBB,\
BBBBBBBBBBBBBBBBBBBB..BBBB,\
");
var pr_castle1_m4 = new prefab(0, 0, "\
BBBBBBBB..BBBBBB..BBBBBBBBB,\
................p.....,\
......................,\
......................,\
......................,\
......................,\
........p.............,\
....BBBBBBBB..BBBBBBBB....,\
BBBBBBBBBBBB..BBBBBBBBBBBB,\
BBBBBBBBBBBB..BBBBBBBBBBBB,\
");
var pr_castle1_m5 = new prefab(0, 0, "\
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB,\
........................BBBB....BBB,\
........................BBBB....BBB,\
........................BBBB,\
...............BBBB.....BBBB,\
...............BBBB.....BBBB,\
...............BBBBss.csBBBB,\
...............BBBBBB..BBBBB,\
BBB........t...BBBBc............BBB,\
BBB...BBBBBB...BBBBBBBBBBBBBB...BBB,\
");
pr_castle1_m5.content_alt = "\
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB,\
........................BBBB....BBB,\
........................BBBB....BBB,\
........................BBBB,\
...............BBBB.....BBBB,\
...............BBBB.....BBBB,\
...............BBBBss.csBBBB,\
...............BBBBBB..BBBBB,\
BBB........t...BBBBc............BBB,\
BBB...BBBBBB...BBBBBBBBBBBBBB...BBB,\
";
var pr_castle1_m6 = new prefab(0, 0, "\
BBBBB............BBBBBBBBBBBBBBBBB,\
.......v....^............BBBB,\
.........................BBBB,\
.........................BBBB,\
.................BBBB........,\
.................BBBB,\
.......v....^....BBBB,\
.................BBBB....c....BBBB,\
BBBBB............BBBB.........BBBB,\
BBBBB............BBBB....B....BBBB,\
");
var pr_castle1_m7 = new prefab(0, 0, "\
BBBBBBBBBBBBBBBBBBBBBBBBBB..BB..BBBB,\
.................BBBBBBBBBp.BB..BB,\
.................BBBBBBBBB..BB..BB,\
.................BBBBBBBBB..BB..BB,\
..........BBBB-.BBBBBBBBBB..BB..BB,\
..........BBB....BBBBBBBBB..BB..BB,\
......c...BBB.c,\
..........BBB.................p,\
BBB...t...BBB.c..BBBB.BBBBBBBBBBBBBB,\
BBB...B...BBB....BBBB.BBBBBBBBBBBBBB,\
");


var pr_castle1_m8 = new prefab(0, 0, "\
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB,\
......W......W......W..........BB....BB,\
......s......W......s..........BB....BB,\
.............s.................BB....ss,\
......c.............c..........BB......,\
......s......c......s..........ss,\
......W......s......W................BB,\
......W......W......W................BB,\
BBBBBBBBBBBBBBBBBBBBBBBBBBB....BB....BB,\
BBBBBBBBBBBBBBBBBBBBBBBBBBB....BB....BB,\
");
var pbank_castle1 = new prefab_bank("castle1");
pbank_castle1.length_min = 3;
pbank_castle1.length_max = 5;
pbank_castle1.gap_min = 3;
pbank_castle1.gap_max = 4;
pbank_castle1.ceiling = "B";
pbank_castle1.repeat = false;
pbank_castle1.start = [pr_castle1_s1, pr_castle1_s2, pr_castle1_s3];
pbank_castle1.middle = [pr_castle1_m1, pr_castle1_m2, pr_castle1_m3, pr_castle1_m4, pr_castle1_m5, pr_castle1_m6, pr_castle1_m7, pr_castle1_m8];


// HELI LEVEL 1
var pr_heli1_s1 = new prefab(0, 0, "\
,\
,\
,\
,\
,\
,\
,\
.....h,\
GGGGGGG,\
GGGGGGG......,\
");
var pr_heli1_m1 = new prefab(0, 0, "\
.....GGG.....GGG.....GGG..,\
.....sss.....GGG.....GGG,\
.............GGG.....sss,\
......c......GGG.....,\
.............sss......c,\
.....sss.....,\
.....GGG......c......sss,\
.....GGG.............GGG,\
.....GGG.....sss.....GGG,\
.....GGG.....GGG.....GGG,\
");
var pr_heli1_m2 = new prefab(0, 0, "\
.....DDD.....DDD.....DDD..,\
.....DDD.....sss.....DDD,\
.....DDD.............sss,\
.....sss......c,\
......................c,\
......c......sss,\
.............DDD.....sss,\
.....sss.....DDD.....DDD,\
.....DDD.....DDD.....DDD,\
.....DDD.....DDD.....DDD,\
");
var pr_heli1_m3 = new prefab(0, 0, "\
..............CCCCCCCC.....................CCCCC,\
....f.........CCCCCCCC........f.....,\
,\
CCCCCCCCC.........f................f..................f,\
CCCCCCCCC...................CCCCCCCCC,\
............................CCCCCCCCC.......CCCCCCC,\
....f.......................................CCCCCCC,\
............CCCCCC............c...c,\
............CCCCCC............................c.c..,\
,\
");
var pr_heli1_m4 = new prefab(0, 0, "\
...m................CCCCCCCCC............CCC,\
................................m......................m,\
................m...................,\
..CCCC........................CCC...........m........,\
..CCCC.............................CCCCC...............,\
...................CCC.............CCCCC,\
..........CCCC..........m............................CCC,\
..........CCCC......................c.c,\
..........m.......................................m,\
,\
");
var pr_heli1_m5 = new prefab(0, 0, "\
.....CCC.....CCC.....CCC,\
.....CCC.....CCC.....CCC..............f,\
.....CCC.....CCC.......,\
.....CCC.....CCC.........,\
.....CCC..............c,\
.....CCC......................f,\
.....CCC.....CCC............,\
.............CCC.....CCC,\
......c......CCC.....CCC,\
.............CCC.....CCC,\
");
pr_heli1_m5.content_alt = "\
CCC...........CCC,\
CCC.......f...CCC,\
CCC...........CCC,\
CCC...........CCC,\
CCC...........CCC,\
CCC...CCC..C..CCC,\
CCC...CCC........,\
......CCC......c.,\
.c....CCC........,\
......CCC........";
var pr_heli1_m6 = new prefab(0, 0, "\
......................CCC.......................................,\
.................m....CCC...........CCC..................m......,\
......................CCC...........CCC.........................,\
.........CCC........................CCC......CCCC...............,\
.........CCC............c.........m.CCC......CCCC......CCCCCC...,\
.........CCC........................CCC......CCCC...c..CCCCCC...,\
.....m...CCC...........CCC......................................,\
.......................CCC...........c..........m...............,\
.....................m.CCC.....................................m,\
................................................................");

var pr_heli1_e1 = new prefab(0, 0, "\
,\
,\
,\
,\
,\
,\
,\
......n,\
....GGGGGGGG,\
....GGGGGGGG,\
");

var pbank_heli1 = new prefab_bank("heli1");
pbank_heli1.length_min = 2;
pbank_heli1.length_max = 3;
pbank_heli1.gap_min = 6;
pbank_heli1.gap_max = 7;
pbank_heli1.repeat = false;
pbank_heli1.start = [pr_heli1_s1];
pbank_heli1.middle = [pr_heli1_m4, pr_heli1_m5, pr_heli1_m6, pr_heli1_m1, pr_heli1_m2, pr_heli1_m3];
pbank_heli1.end = [pr_heli1_e1];


// DESERT 1
var pr_desert1_m1 = new prefab(0, 0, "\
,\
,\
,\
..................k,\
......c...........k.....k,\
..................k.....k,\
......k.......SSSSSSSSSSSSS..........r,\
......k.r.....SSSSSSSSSSSSS......SSSSS,\
SSSSSSSSSSS...SSSSSSSSSSSSS......SSSSS,\
SSSSSSSSSSS...SSSSSSSSSSSSS......SSSSS,\
");
var pr_desert1_m2 = new prefab(0, 0, "\
,\
,\
,\
,\
............................k...k...k...k,\
.....k...k...k...k..........k...k...k...k,\
.....k...k...k...k..........k.c.k...k.c.k,\
.....k.c.k...k.c.k.......SSSSSSSSSSSSSSSSSSS,\
SSSSSSSSSSSSSSSSSSSSS....SSSSSSSSSSSSSSSSSSS,\
SSSSSSSSSSSSSSSSSSSSS....SSSSSSSSSSSSSSSSSSS,\
");
var pr_desert1_m3 = new prefab(0, 0, "\
,\
,\
,\
,\
..................k,\
.........k........k.....r,\
.........k...c....SSSSSSS,\
k...c....SSSSSS...SSSSSSS,\
SSSSSS...SSSSSS...SSSSSSS,\
SSSSSS...SSSSSS...SSSSSSS,\
");
var pr_desert1_m4 = new prefab(0, 0, "\
.........................c,\
..........................,\
.........................k,\
.........................k,\
.........................k,\
.........................k,\
....................c....k,\
.....r..................SSSSSSS,\
SSSSSS..............t...SSSSSSS,\
SSSSSS......SSSSSSSSS...SSSSSSS,\
");
var pr_desert1_m5 = new prefab(0, 0, "\
,\
,\
,\
,\
.............c,\
,\
,\
.....r....Z.....Z,\
SSSSSS....Z.....Z,\
SSSSSS....Z.....Z,\
");
var pr_desert1_m6 = new prefab(0, 0, "\
...................ZZZZZZZZZZZ,\
..........................cZZZ,\
...........................ZZZ,\
...................ZZZZZZ..ZZZ,\
............ZZ.....ZZZc....ZZZ,\
............ZZ.....ZZZ.....ZZZ.....c,\
......ZZ....ZZ.....ZZZ..ZZZZZZ,\
......ZZ....ZZ.....ZZZ.............k,\
ZZ....ZZ....ZZ.....ZZZ.............k,\
ZZ....ZZ....ZZ.....ZZZ.ZZZZZZZZ...SSSS,\
");
var pr_desert1_m7 = new prefab(0, 0, "\
,\
,\
.............................c,\
............c,\
........c...............r....Z,\
............k......SSSSSS....Z,\
........k...k......SSSSSS....Z,\
........k...k......SSSSSS....Z,\
SSSS....SSSSSSS....SSSSSS....Z,\
SSSS....SSSSSSS....SSSSSS....Z,\
");
var pr_desert1_m8 = new prefab(0, 0, "\
,\
,\
,\
,\
........................c,\
.............................c............r.....r,\
........r.....r....c....Z.........ZZZ...ZZZ...ZZZ,\
ZZZ...ZZZ...ZZZ.........Z....Z....ZZZZZZZZZZZZZZZ,\
ZZZZZZZZZZZZZZZ....Z....Z....Z....ZZZZZZZZZZZZZZZ,\
ZZZZZZZZZZZZZZZ....Z....Z....Z....ZZZZZZZZZZZZZZZ,\
");
var pr_desert1_m9 = new prefab(0, 0, "\
,\
,\
,\
................c,\
........c.....................c,\
................k..............,\
........k.......k.............k,\
........k......SSSS...........k,\
SSSS...SSSS....SSSS...........k......r,\
SSSS...SSSS....SSSS......SSSSSSSSSSSSS,\
");
var pr_desert1_m10 = new prefab(0, 0, "\
.......ZZZZZZ..........ZZZZZZ,\
.......ZZZ,\
.......ZZZ,\
..............v.....^,\
.........................ZZZZ,\
........c.................ZZZ,\
.......ZZZ................ZZZ,\
.......ZZZ................ZZZ,\
ZZZZ...ZZZ....v.....^.....ZZZ,\
ZZZZ...ZZZ................ZZZ,\
");

var pbank_desert1 = new prefab_bank("desert1");
pbank_desert1.length_min = 4;
pbank_desert1.length_max = 8;
pbank_desert1.gap_min = 3;
pbank_desert1.gap_max = 4;
pbank_desert1.repeat = false;
pbank_desert1.middle = [pr_desert1_m1, pr_desert1_m2, pr_desert1_m3, pr_desert1_m4, pr_desert1_m5, pr_desert1_m6, pr_desert1_m7, pr_desert1_m8, pr_desert1_m9, pr_desert1_m10];

var pr_egg1_m1 = new prefab(0, 0, "\
,\
,\
,\
.......c...............g,\
........H.H,\
.......c...........H.H.H.H.,\
........H.H...............,\
.......t...........H.H.H.H,\
H.H.H.H.H.H....J..........,\
...................H.H.H.H,\
");

var pr_egg1_m2 = new prefab(0, 0, "\
..............................J..,\
,\
.....................g........J..,\
,\
........H.H......H.H.H.H.........,\
,\
....H.H.H.H......H.H.H.H......J.............J,\
,\
J...H.H.H.H......H.H.H.H......H.H.....J.....J,\
,\
");

var pr_egg1_m3 = new prefab(0, 0, "\
........c,\
,\
.......c..H.H....v.....^.....v.....^.....H.H,\
,\
........c.H.H............................H.H,\
,\
.......c..H.H............................H.H,\
.................v.....^.....v.....^,\
H.H.H..+..H.H............................H.H,\
,\
");

var pr_egg1_m4 = new prefab(0, 0, "\
,\
,\
...................g,\
,\
........g....H.H.H.H,\
,\
..H.H.H.H....H.H.H.H,\
,\
H.H.H.H.H....H.H.H.H,\
,\
");

var pr_egg1_m5 = new prefab(0, 0, "\
..................J.J.J.J.J.J.J.J.J.J.....J,\
...............c......................p,\
........................J.......J.J.J.....J,\
.........c,\
............J.....J.J...J...J...J.J.J.....J,\
...c,\
......J.....J.....J.........J...,\
........................................p.,\
J.....J.....J.....J.J...J.J.J...J.J.J.J.J.J.J,\
,\
");

var pr_egg1_m6 = new prefab(0, 0, "\
............H,\
,\
............H,\
,\
......H.....H,\
,\
...-..H...........H,\
.........cc,\
H.....H..J..H..-..H,\
,\
");

var pr_egg1_m0 = new prefab(0, 0, "\
.............................................,\
,\
.............................................,\
,\
.............................................,\
,\
.............................................,\
,\
.............................................,\
,\
");

var pbank_egg1 = new prefab_bank("egg1");
pbank_egg1.length_min = 3;
pbank_egg1.length_max = 4;
pbank_egg1.gap_min = 4;
pbank_egg1.gap_max = 4;
pbank_egg1.repeat = false;
pbank_egg1.middle = [pr_egg1_m1, pr_egg1_m2, pr_egg1_m3, pr_egg1_m4, pr_egg1_m5, pr_egg1_m6,];


var pr_cave1_s1 = new prefab(0, 0, "\
............RRRRRRRRRRR,\
..................cRRR,\
...................RRR,\
............RRRRR..RRR,\
............RRRc...RRR,\
......RRR...RRR....RRR,\
......RRR...RRR..RRRRR,\
RRR...RRR...RRR,\
RRR...RRR...RRR,\
RRR...RRR...RRR.RRRRRRR,\
");
var pr_cave1_s2 = new prefab(0, 0, "\
.......RRRRRRRRRRRRRRRRRRR,\
.......RRRRRRRRRRRRRRRRRRR,\
.......RRRRRRRRRRRRRRRRRRR,\
...............RRRRRRRRRRR,\
.................RRRRRRRRR,\
......RRRR.........RRRRRRR,\
......RRRR..RRR....RRRRR,\
RRR...RRRR..RRRs,\
RRR...RRRR..RRRRRR,\
RRR...RRRR..RRRRRRRRRRRRRR,\
");
var pr_cave1_m1 = new prefab(0, 0, "\
RRRRRRRRRRRRRRRRRRRRRRRRRRR,\
RRRRRRRRRRRRRR..........RRR,\
RRRRRRRRRRR.....c.......RRR,\
RRRRRRRRR........RRRR...RRR,\
................cRRRR...RRR,\
....c............RRRR,\
................cRRRR,\
.................RRRR....c,\
RRR...RRR.......tRRRR...RRR,\
RRR...RRR...RRRRRRRRR...RRR,\
");
var pr_cave1_m2 = new prefab(0, 0, "\
RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR,\
RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR,\
............RRRRRRR,\
................RRR,\
...........r..........RR......c,\
..........RR..........RR,\
.c..c.RRRRRRss..c.....RR,\
RRRRRRRRRRRRRRRRRRR...RR...RR...RR,\
RRRRRRRRRRRRRRRRRRR...RR...RR...RR,\
RRRRRRRRRRRRRRRRRRR...RR...RR...RR,\
");
var pr_cave1_m3 = new prefab(0, 0, "\
RRRRRRRRRRRRRRRRRRRRRRRRRRR,\
......R......R,\
......s......R,\
.............s,\
......c,\
......s......c,\
......R......s,\
......R......R...........r.,\
RRRRRRRRRRRRRRRRRRRRRRRRRRR,\
RRRRRRRRRRRRRRRRRRRRRRRRRRR,\
");
var pr_cave1_m4 = new prefab(0, 0, "\
RRRRRRRRRRRRRRRRRRRRR,\
RRRRR...RRRRR...RRRRR,\
RRRRR....RRRs...RRRRR,\
RRRRs...........RRRRR,\
................RRRRR,\
..........c.....RRRR.,\
..c.....sRRRs,\
RRRRs...RRRRR.....c,\
RRRRR...RRRRR...RRRRR,\
RRRRR...RRRRR...RRRRR,\
");
var pr_cave1_m5 = new prefab(0, 0, "\
RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR,\
.......RRRRRRRRRRRRRRRRRRRRRRRRRRRRRR,\
.......RR.................RRRRRRRRRRR,\
.......RR.................RRRRR,\
.RR...............RRRR....RRRRR,\
.RR...............RRRR....RRRRR,\
.RR..........RR...RRRR....RRRR,\
.RR....RR....RR...RRRR,\
tRR....RR....RR...RRRR....c.c.c...RRR,\
RRR....RR....RR...RRRR...RRRRRR...RRR,\
");
var pr_cave1_m6 = new prefab(0, 0, "\
RRRRRRRRRR....RRRRRRRRRRRRRR,\
RRRRRRRR....p...RRRRRRRRRR,\
RRRRRRRR,\
RRRRRRR,\
,\
..........................RR,\
..........p.........RR....RR,\
........RRRRRRRR....RR....RR,\
RRRRRRRRRRRRRRRR....RR....RR,\
RRRRRRRRRRRRRRRR....RR....RR,\
");
var pr_cave1_m7 = new prefab(0, 0, "\
RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR,\
RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR,\
,\
,\
..............c,\
.........c..............c,\
..............R....c,\
.........R....R.........R,\
RRRRR....R....R....R....R....RR,\
RRRRR....R....R....R....R....RR,\
");
pr_cave1_m7.content_alt = "\
RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR,\
RRRRRRRRRRRRRR...............RR,\
.............................RR,\
...................c.........RR,\
..............c.....,\
...................R....c,\
.........c....R....R,\
..............R....R....R,\
.........R....R....R....R....RR,\
RRRRR....R....R....R....R....RR,\
";
var pr_cave1_m8 = new prefab(0, 0, "\
RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR,\
........R....R....R....R....R....R....R.....,\
........R....s....R....R....R....R....s.....,\
........s.........R....s....R....s..........,\
.............c....s.........s.........c.....,\
........c..............c.........c..........,\
.............s....c.........c.........s.....,\
.....r..s....R.........s.........s....R..RRR,\
RRRRRR..R....R....s....R....s....R.RR.R..RRR,\
RRRRRR..R.RR.R.RR.R.RR.R.RR.R.RR.R.RR.R..RRR");

var pbank_cave1 = new prefab_bank("cave1");
pbank_cave1.length_min = 3;
pbank_cave1.length_max = 5;
pbank_cave1.gap_min = 3;
pbank_cave1.gap_max = 4;
pbank_cave1.ceiling = "R";
pbank_cave1.repeat = false;
pbank_cave1.start = [pr_cave1_s1, pr_cave1_s2];
pbank_cave1.middle = [pr_cave1_m1, pr_cave1_m2, pr_cave1_m3, pr_cave1_m4, pr_cave1_m5, pr_cave1_m6, pr_cave1_m7, pr_cave1_m8];

var pr_clouds1_m1 = new prefab(0, 0, "\
,\
,\
..........................................r,\
.....................................CCCCCCC,\
.....................r,\
......c..c....CCCCCCCCC,\
.....CCCCCC...CCCCCCCCC.......c...c............CCC,\
CC...CCCCCC.................CCCCCCCCC....cc....CCC,\
CC..........................CCCCCCCCC...CCCC,\
,\
");
var pr_clouds1_m2 = new prefab(0, 0, "\
,\
,\
,\
,\
,\
,\
..............CC,\
........C.....CC.........CC,\
CCCCC..............C.....CC,\
CCCCC,\
");
var pr_clouds1_m3 = new prefab(0, 0, "\
,\
,\
,\
.............CCCCC,\
.............CCCCC,\
...........................r,\
.......CCC.....c.c....CCCCCC,\
.......CCC.....CCC....CCCCCC.,\
CCC.........C..CCC,\
CCC,\
");
var pr_clouds1_m4 = new prefab(0, 0, "\
,\
................................r,\
..........................CCCCCCC,\
..........................CCCCCCC...c,\
....................................C,\
................................,\
.......................t................c,\
...................CCCCC................C,\
......r....C...C...CCCCC,\
CCCCCCC,\
");
var pr_clouds1_m5 = new prefab(0, 0, "\
,\
,\
,\
...............c..........CCCCCC,\
.....................c....CCCCCC,\
.........c.....t........,\
CCCC...........C.....t,\
CCCC.....t...........C...,\
.........C...............,\
,\
");

var pbank_clouds1 = new prefab_bank("clouds1");
pbank_clouds1.length_min = 4;
pbank_clouds1.length_max = 5;
pbank_clouds1.gap_min = 3;
pbank_clouds1.gap_max = 4;
pbank_clouds1.repeat = false;
pbank_clouds1.middle = [pr_clouds1_m1, pr_clouds1_m2, pr_clouds1_m3, pr_clouds1_m4, pr_clouds1_m5];

var pr_wood1_m1 = new prefab(0, 0, "\
.......DDDDDDDDDD,\
.......DDDc,\
.......DDD,\
.......DDD...DDDD,\
.......DDD...cDDD,\
.......DDD....DDD,\
.......DDDDD..DDD,\
..............DDD,\
..............DDD,\
DDD...DDDDDDD.DDD,\
");

var pr_wood1_m2 = new prefab(0, 0, "\
,\
,\
,\
................c,\
........c.....................c,\
................s.............s,\
........s.......W.............W,\
........W......DDDD...........W,\
DDDD...DDDD....DDDD...........W......r,\
DDDD...DDDD....DDDD......DDDDDDDDDDDDD,\
");

var pr_wood1_m3 = new prefab(0, 0, "\
.........DDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDD,\
.................DDD,\
.................DDD,\
.........DDD.....DDD.................DDDD...,\
.........DDD.....DDD..................DDD..DDD.....TTTTT,\
TTTTT....DDDss.csDDD.................cDDD..DDD.......T,\
..T......DDDDD..DDDD.................DDDD..DDD.......T,\
..T......DDD..........................DDD..DDD.......T,\
..T......DDD..............DD..........DDD..DDD.......T,\
..T......DDDDDDDDDDDDD....DD....DDDDDDDDD..DDD.......T,\
");

var pr_wood1_m4 = new prefab(0, 0, "\
..........................c,\
,\
.............................TTTTTTT,\
...............r................T,\
...........TTTTT................T,\
.............T..................T,\
.............T..........r.t.....T,\
.......t.....T......TTTTTTT.....T,\
DDDDDDDD.....T.........T........T,\
DDDDDDDD.....T.........T........T.\
");

var pr_wood1_m5 = new prefab(0, 0, "\
,\
................................r,\
............................TTTTT,\
....................D.........T......-.....-.....-,\
............TTT.....D.........T,\
.............T......D.........T,\
.......W.....T......D...c.....T,\
DDDDDDDD.....T......D.........T,\
DDDDDDDD.....T......D...t.....T,\
DDDDDDDD.....T......D...W.....T\
"); 
var pr_wood1_m6 = new prefab(0, 0, "\
..........W.W.W,\
..........t.t.t,\
,\
,\
,\
,\
,\
,\
DDDDD....t.t.t.t,\
DDDDD....W.W.W.W,\
");
var pr_wood1_m7 = new prefab(0, 0, "\
................DDDDDDDDDDDDDDDDDDDDD,\
................DDD...............DDD,\
................DDD...............DDD,\
................DDD......DDD......DDD,\
................DDD.......D..........,\
........c.......DDD......cDc,\
......sDDDs.....DDD......DDD......DDD,\
......DDDDD...............D.......DDD,\
DDD...DDDDD...............D.......DDD,\
DDD...DDDDD....DDDDDDDDDDDD...W...DDD,\
");

var pr_wood1_m8 = new prefab(0, 0, "\
..................................,\
..................................,\
..................................,\
.......TTTTT......................,\
.........T.....d....d....d........,\
.........T...................TTTTT,\
.........T.....................T..,\
....t....T.....................T..,\
TTTTT....T.....................T..,\
..T......T.....................T..");

var pbank_wood1 = new prefab_bank("wood1");
pbank_wood1.length_min = 4;
pbank_wood1.length_max = 5;
pbank_wood1.gap_min = 3;
pbank_wood1.gap_max = 4;
pbank_wood1.repeat = false;
pbank_wood1.middle = [pr_wood1_m1, pr_wood1_m2, pr_wood1_m3, pr_wood1_m4, pr_wood1_m5, pr_wood1_m6, pr_wood1_m7, pr_wood1_m8];

var pr_panel1_m1 = new prefab(0, 0, "\
.......................LLL........,\
.......................LLL........,\
.......................LLL........,\
.......................LLL........,\
................LLL.-..LLL........,\
................LLL....LLL........,\
........LLL.....LLL...............,\
........LLL.....LLL.....c........-,\
LLL.....LLL.....LLL..........-....,\
LLL.....LLL.....LLL....LLL........,\
");

var pr_panel1_m2 = new prefab(0, 0, "\
..............................LL,\
..............................LL,\
..............................LL,\
..................LL....-.....LL,\
..................LL..........LL,\
..................LL............,\
............LL....LL............,\
LL....-.....LL....LL............,\
LL.....c....LL....LL.....c....LL,\
LL..........LL....LL..........LL,\
"); 

var pr_panel1_m3 = new prefab(0, 0, "\
.........cc,\
,\
,\
,\
,\
............tttttt..........................,\
............LLLLLL...........r...r...r.....t,\
....tttt....LLLLLL.........................L,\
LL..LLLL....LLLLLL...ttttttttttttttttt.....L,\
LL..LLLL....LLLLLL...LLLLLLLLLLLLLLLLL.....L");

var pbank_panel1 = new prefab_bank("panel1");
pbank_panel1.length_min = 1;
pbank_panel1.length_max = 2;
pbank_panel1.gap_min = 4;
pbank_panel1.gap_max = 4;
pbank_panel1.repeat = false;
pbank_panel1.middle = [pr_panel1_m1, pr_panel1_m2, pr_panel1_m3];


var pr_ground1_m1 = new prefab(0, 0, "\
,\
,\
....................FF......,\
.....................F......,\
.....c..............cF......,\
....................FF.....c,\
.....F...............F......,\
FF...F...FF..........F.....F,\
FF...F...FF...F.F.FFFF.....F,\
FF...F...FF...FFFFFFFF.....F");

pr_ground1_m1.alt_content = "\
.............................,\
.............................,\
.....................FF......,\
......................F......,\
.....................cF......,\
.....................FF.....c,\
......................F......,\
-....-....-...........F.....F,\
...............F.F.FFFF.....F,\
...............FFFFFFFF.....F";

var pr_ground1_m2 = new prefab(0, 0, "\
.........FF,\
.........FF,\
.........FF,\
....FF...FF,\
....FF.c.FF,\
....FF.....,\
....FF.....,\
....FF.....,\
..t.FF...FF,\
FFF.FF...FF");

var pr_ground1_m3 = new prefab(0, 0, "\
........,\
........,\
........,\
........,\
......sF,\
......FF,\
..r...FF,\
FFF...FF,\
FFF...FF,\
FFF...FF");

var pr_ground1_m4 = new prefab(0, 0, "\
...............FF,\
...............FF,\
...............FF,\
...............FF,\
..........-....FF,\
...............FF,\
.....-...........,\
.................,\
-.........cc.....,\
...............FF");

var pr_ground1_m5 = new prefab(0, 0, "\
.....,\
.....,\
.....,\
.....,\
.....,\
.....,\
c...F,\
....F,\
F...F,\
F...F");

var pr_ground1_m6 = new prefab(0, 0, "\
......FF...........,\
......FF...........,\
..................r,\
...............FFFF,\
......cc.......FFFF,\
......FF.......FFFF,\
...............FFFF,\
..r............FFFF,\
FFF...FF...t...FFFF,\
FFF...FF...W...FFFF");

pr_ground1_m6.alt_content = "\
......FF...................,\
......FF...................,\
...........................,\
......cc.......FF...-....-.,\
......FF.......FF..........,\
...............FF..........,\
..r............FF..........,\
FFF............FF........cc,\
FFF...FF...t...FF..........,\
FFF...FF...W...FF..........";

var pbank_ground1 = new prefab_bank("ground1");
pbank_ground1.length_min = 4;
pbank_ground1.length_max = 5;
pbank_ground1.gap_min = 3;
pbank_ground1.gap_max = 3;
pbank_ground1.repeat = false;
pbank_ground1.middle = [pr_ground1_m1, pr_ground1_m2, pr_ground1_m3, pr_ground1_m4, pr_ground1_m5, pr_ground1_m6];

var pr_factory1_m1 = new prefab(0, 0, "\
MMMMMMMMMMMMMMMMMMMM..........MM,\
..............................MM,\
..............................MM,\
..................MM....-.....MM,\
..................MM..........MM,\
..................MM............,\
............MM....MM............,\
MM....-.....MM....MM............,\
MM..........MM....MM....cc....MM,\
MM....cc....MM....MM..........MM");

var pr_factory1_m2 = new prefab(0, 0, "\
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM,\
.......................MMM.........,\
.......................MMM.........,\
.......................MMM.........,\
................MMM.-..MMM.........,\
................MMM....MMM.........,\
.......)))))....MMM................,\
.......MMMMM....MMM.....c........-.,\
MMM....MMMMM....MMM..........-.....,\
MMM....MMMMM....MMM....MMM........."); 

var pr_factory1_m3 = new prefab(0, 0, "\
MMMMMMMMMMMMMMMMMMMMM,\
P....P....P....P....P,\
P....P....P....P....P,\
.....P.........P.....,\
.....P.........P.....,\
...............P.....,\
P....c....P.........P,\
P.........P....c....P,\
P....P....P.........P,\
P....P....P....P....P");

pr_factory1_m3.alt_content = "\
MMMMMMMMMMMMMMMMMMMMM,\
P....P....P....P....P,\
P....P....P....P....P,\
.....P.........P.....,\
.....P.........P.....,\
.....P...............,\
P.........P....c....P,\
P....c....P.........P,\
P.........P....P....P,\
P....P....P....P....P";

var pr_factory1_m4 = new prefab(0, 0, "\
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM,\
.................................,\
.................................,\
.........PPPP....................,\
..........P.....................r,\
.........cP..................MMMM,\
.........PP.............-....MMMM,\
..........P..................MMMM,\
...r......P........-.........MMMM,\
MMMM..MMMMP....P.............MMMM");

var pr_factory1_m5 = new prefab(0, 0, "\
MMMMMM........MMMMMMMMMMMMMMMMMMMMMMMMMM,\
......p.............................MMMM,\
....................................MMMM,\
....................................MMMM,\
..............................MM........,\
........................MM....MM........,\
..........p.............MM....MM........,\
..MMMMMM..MM..MM..MM....MM....MM....c...,\
MMMMMMMM..MM..MM..MMMM..MM....MM.......P,\
MMMMMMMM..MM..MM..MMMM..MM....MM....P..P");

var pr_factory1_m6 = new prefab(0, 0, "\
MMMMMMMMMMMMPMMMMMMM......................MMMM,\
............P.................................,\
............P.................................,\
............P..c........^.....v.....^.........,\
............PPPP..........................PPPP,\
...............P..........................P..P,\
...............P..........................P..P,\
PPPPP..............P......................P..P,\
P...P....PP........P....^.....v.....^.....P..P,\
P...P.....P...PP...P......................P..P");

var pr_factory1_m7 = new prefab(0, 0, "\
MMMMMMMMMMMMMMMMMMMMMMMMMMMM,\
,\
,\
,\
..............s,\
............PPP..........s..,\
.......s.....P...........PPP,\
......PPP....P...PPPPP....P.,\
.......P.....P...P...P....P.,\
PPP....P.....P...P...P....P.");

var pr_factory1_m8 = new prefab(0, 0, "\
MMMMMMMMMMMMMMMMMPMMMMMMP..PMMMMM,\
.................P......Pp.P.....,\
.................P......P..P.....,\
..........PPPPP-.PPPPPPPP..Pc....,\
..........P..P.............PP....,\
..........P..P...................,\
..........P..P...................,\
M(((M.....P..P.........r.........,\
MMMMM..t..P..PP..PPPPPPPP|.PPPPPP,\
MMMMM..M..P..P....P....P....P..P.");

var pr_factory1_m9 = new prefab(0, 0, "\
MMMMMMMMMMMMMPMMMMMMMMMMMMMMMMMMMMMMMMMPMMMMMMMMM,\
.............P.........................P.........,\
.............P...b.....................P.........,\
.............PPPPP....................bP.........,\
......c..............................PPP.........,\
.................................................,\
......P..........................y...............,\
MMM...P........MMMMMMMM........MMMM.............P,\
MMM...P....MMMMMMMMMMMM...MMMM.MMMM..........P..P,\
MMM...P....MMMMMMMMMMMM...MMMM.MMMM..MMM..P..P..P");

pr_factory1_m9.alt_content = "\
MMMMMMMMMMMMMPMMMMMMMMMMMMMMMMMMMMMMMMMPMMMMMPMMMMM,\
.............P.........................P.....P.....,\
.............P...b.....................P.....P.....,\
.............PPPPP....................bP.....P.....,\
.....................................PPP...........,\
...................................................,\
.................................y...............-.,\
-.....-..........MMMMMM........MMMM..........P.....,\
............MMM..MMMMMM...MMMMMMMMM..........P.....,\
............MMM..MMMMMM...MMMMMMMMM..MMM..P..P.....";

var pr_factory1_m10 = new prefab(0, 0, "\
MMMMMMMMMMMMMMMMMMMMMM,\
......................,\
......................,\
......................,\
..........b...........,\
.....PPPPPP..........y,\
.....P....P.......PPPP,\
-....P....P..P.P..P..P,\
.....P....P..P.P..P..P,\
.....P....P..P.P..P..P");

var pbank_factory1 = new prefab_bank("factory1");
pbank_factory1.length_min = 4;
pbank_factory1.length_max = 7;
pbank_factory1.gap_min = 3;
pbank_factory1.gap_max = 3;
pbank_factory1.repeat = false;
pbank_factory1.ceiling = "M";
pbank_factory1.middle = [pr_factory1_m1, pr_factory1_m2, pr_factory1_m3, pr_factory1_m4, pr_factory1_m5, pr_factory1_m6, pr_factory1_m7, pr_factory1_m8, pr_factory1_m9,  pr_factory1_m10];

var pr_bridge1_m1 = new prefab(0, 0, "\
,\
,\
.............KKKKK.....,\
.............K...K.....,\
.............K...K....K,\
.............K...K....K,\
.....r...t...K...K....K,\
KKKKKK...K...K...K....K,\
K....K...K...K...K....K,\
KwwwwKwwwKwwwKwwwKwwwwK");

var pr_bridge1_m2 = new prefab(0, 0, "\
,\
....................j.......,\
.......j....................,\
...............c..c.....j...,\
..c..c.....j................,\
............................,\
............KKKK..KKKK......,\
KKKKKKKK....K..K..K..K....-.,\
K......K....K..K..K..K......,\
KwwwwwwKwwwwKwwKwwKwwKwwwwww");

var pr_bridge1_m3 = new prefab(0, 0, "\
,\
,\
........................j.,\
.................KKKKKK...,\
.................K....K...,\
..........j......K....K...,\
.................K....K...,\
.................K....K..K,\
KKK......KKKK.+..K....K..K,\
KwKwwwwwwKwwKwwwwKwwwwKwwK");

var pr_bridge1_m4 = new prefab(0, 0, "\
,\
.....................j........,\
........j.....................,\
........c..c.............j....,\
............j.................,\
............KKKKK..KKKKK......,\
KKKKKKKK....K...K..K...K....-.,\
K......K....K...K..K...K......,\
K......K....K...K..K...K......,\
KwwwwwwKwwwwKwwwKwwKwwwKwwwwww");

var pr_bridge1_e1 = new prefab(0, 0, "\
,\
,\
,\
,\
,\
,\
,\
KKKK,\
K..K,\
KwwK");

var pbank_bridge1 = new prefab_bank("bridge1");
pbank_bridge1.length_min = 3;
pbank_bridge1.length_max = 4;
pbank_bridge1.gap_min = 4;
pbank_bridge1.gap_max = 4;
pbank_bridge1.repeat = false;
pbank_bridge1.ceiling = ".........w";
pbank_bridge1.middle = [pr_bridge1_m1, pr_bridge1_m2, pr_bridge1_m3, pr_bridge1_m4];
pbank_bridge1.end = [pr_bridge1_e1];

var pr_water1_s0 = new prefab(0, 0, "\
......SSSSSS,\
......SS,\
......SS,\
......SS,\
......SS,\
SSwwwwSS,\
SS......,\
SS......,\
SS......,\
SSSSSSSSSSSS");

var pr_water1_s1 = new prefab(0, 0, "\
..............SS,\
..............SS,\
........SS....SS,\
........SS....SS,\
........SSwwwwSS,\
........SS......,\
........SS......,\
........SS....}},\
....t...SS....}},\
W..GG...SSSSSS}}");

var pr_water1_s2 = new prefab(0, 0, "\
..........SSSSSSSS,\
...............cSS,\
................SS,\
................SS,\
..........SSwwwwSS,\
......W...SS....SS,\
......W...SS......,\
SSS...W...SS......,\
SSS...W...SS......,\
SSS...W...SSSSSSSS");

var pr_water1_m1 = new prefab(0, 0, "\
SSSSSSSSSSSSSSS,\
SS.............,\
SS......i....i.,\
...............,\
......SSSSSSSS.,\
......SSSSSSSS.,\
...............,\
SS......i....i.,\
SS.............,\
SSSSSSSSSSSSSSS");

var pr_water1_m2 = new prefab(0, 0, "\
SSSSSSSSSSSSSSSSSSSSSSSSSSSS,\
SS........................SS,\
SS........................SS,\
SS........................SS,\
SS.............r..........SS,\
SSwwwwSSwwwwSSSSwwwwSSwwwwSS,\
......SS}}}}SSSS}}}}SS......,\
......SS}}}}SSSS}}}}SS......,\
......SS}}}}SSSS}}}}SS......,\
SSSSSSSS}}}}SSSS}}}}SSSSSSSS");

var pr_water1_m3 = new prefab(0, 0, "\
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSS,\
SS.......c..c.......SS{{{{SSSS,\
SS..................SS{{{{SSSS,\
SS......}}}}}}......SS{{{{SSSS,\
SS....SS}}}}}}SS....SS{{{{SSSS,\
SS...zSS}}}}}}SSz...SS{{{{SSSS,\
......SS}}}}}}SS......{{{{....,\
......SS}}}}}}SS..............,\
......SS}}}}}}SS..............,\
SSSSSSSS}}}}}}SSSSSS..c..c....");

var pr_water1_m4 = new prefab(0, 0, "\
SSSSSSSSSSSSSSSSSS,\
..S.....S.....S..,\
..S...........S..,\
..x...........x..,\
.................,\
.................,\
........x........,\
........S........,\
..S.....S.....S...,\
SSSSSSSSSSSSSSSSSS");

var pr_water1_m5 = new prefab(0, 0, "\
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS,\
SS..............SS.............SSSSSS.............SS..,\
SS.l............SS.............SSSSSS.............SS..,\
SS..............SS.............SSSSSS.............SS..,\
SSSSSS....SS....SS........c.......SSS.........SS..SS..,\
..........SS......................SSSwwwSSSSwwSSwwSS..,\
..........SS.............}}}......SSS...SSSS}}SS......,\
..........SS..........SSS}}}SSS.........SSSS}}SS......,\
..........SS..........SSS}}}SSS....c....SSSS}}SS......,\
SSSSSSSSSSSSSSSSSSSSSSSSS}}}SSS.........SSSS}}SSSSSSSS");

var pr_water1_m6 = new prefab(0, 0, "\
SSSSSSSSSSSSSSSSSSSSSSSSSSSS,\
..SS........SSSS............,\
..SS..i.....SSSS....i.......,\
............SSSS............,\
............................,\
......SS......i....SSS......,\
......SS...........SSS..i...,\
......SS...........SSS......,\
....i.SS..}}}......SSS......,\
SSSSSSSSSS}}}SSSSSSSSSSSSSSS");

var pr_water1_m7 = new prefab(0, 0, "\
SSSSSSSSSSSSSSSSSSSSSSS{{{{SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS,\
..SS..........SSSS.....{{{{.........SSSSSSSS......c..c......SSSS,\
..SS..l.......SSSS..................SSSSSSSS................SSSS,\
..SSSSSS......SSSS............]]....SSSSSSSS................SSSS,\
..x...........SSSS............]]....SSSSSSSSwwwwSSwSSwSSwwwwSSSS,\
..............SSSS..c..SSSS.....................SS}SS}SS........,\
.......................SSSS.c.SS..]]..c.........SS}SS}SS........,\
.......................SSSS...SS..]].....c......SS}SS}SS........,\
.......x...............SSSS...SS................SS}SS}SS......i.,\
SSSSSSSSSSSSSS}}}}SSSSSSSSSSSSSSSSSSSS}}}}SSSSSSSS}SS}SSSSSSSSSS");

var pr_water1_m8 = new prefab(0, 0, "\
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS,\
]]]]}}}SSS]]]]]]]]...SSSSSSSSSSS......SSSSSSSSSSSSSS....,\
]]]]}}}SSS]]]]]]]]...SSSSSSS]]]]......SS]]]]}}SS]]]]....,\
]]]]}}}SSS]]]]]]]]...SSSSSSS]]]]......SS]]]]}}SS]]]]....,\
SSSS...]]]....SSSS...]]]}}SS{{SS......]]{{SS}}SS{{SS....,\
SSSS...]]]....SSSS...]]]}}SS{{SS......]]{{SS}}SS{{SS....,\
]]]]{{{SSS]]]]]]]]...SSS}}SS{{SS......SSSSSS}}SS{{SS....,\
]]]]{{{SSS]]]]]]]]...SSS]]]]{{SS......SSSSSS]]]]{{SS....,\
]]]]{{[SSS]]]]]]]]...SSS]]]]{{SS......SSSSSS]]]]{{SS....,\
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS");

var pr_water1_e1 = new prefab(0, 0, "\
SS......,\
SS......,\
SS......,\
SS......,\
SSwwwwSS,\
......SS,\
......SS,\
......SS,\
......SS,\
SSSSSSSS");

var pbank_water1 = new prefab_bank("water1");
pbank_water1.length_min = 3;
pbank_water1.length_max = 4;
pbank_water1.gap_min = 5;
pbank_water1.gap_max = 6;
pbank_water1.repeat = false;
pbank_water1.ceiling = "S........S";
pbank_water1.start = [pr_water1_s1, pr_water1_s2];
pbank_water1.middle = [pr_water1_m1, pr_water1_m2, pr_water1_m3, pr_water1_m4, pr_water1_m5, pr_water1_m6, pr_water1_m7, pr_water1_m8];
pbank_water1.end = [pr_water1_e1];

var prefab_bank_first = pbank_grass1;
var prefab_testing = null;
var prefab_bank_testing = null;
var prefab_testing_heli = false;
var prefab_testing_water = false;
var prefab_testing_speed = 0;
//var prefab_list = [pr_simple1, pr_simple2, pr_simple3, pr_simple4, pr_simple5, pr_simple6, pr_simple7, pr_simple8, pr_castle1, pr_castle2, pr_castle3, pr_castle4, pr_castle4, pr_castle5, pr_cave2, pr_cave1, pr_cave3, pr_clouds1, pr_clouds2];

var test_prefab = new prefab(0, 0, "\
BBrBGG....,\
GGGGG...sG,\
GGGGG.G.GG,\
");

// - - - - - - - - -
const urlparams = new URLSearchParams(window.location.search);
if(urlparams.get("prefabtest") != null) prefab_testing = new prefab(0, 0, urlparams.get("prefabtest"));
if(urlparams.get("helitest") != null) prefab_testing_heli = true;
if(urlparams.get("watertest") != null) prefab_testing_water = true;
if(urlparams.get("speedtest") != null) prefab_testing_speed = parseFloat(urlparams.get("speedtest"));</functions><variables>var last_score = load_web_integer("la");
if(!last_score) last_score = 0;
var high_score = load_web_integer("hi");
if(!high_score) high_score = 0;


var game_started = false;
var game_paused = false;
var game_expert = false;
var game_inmenu = false;
var player_object;
var player_character;
var camera_object;
var world_generator_object;
var hud_object;
var game_timer = 0;
var despawn_margin = 32;
var player_death_margin = 16;

var player_costumes = {
	"default": s_kot,
	"fat": s_kot_fat,
	"tall": s_kot_tall,
	"girl": s_kot_girl,
	"hat": s_kot_hat,
	"agent": s_kot_agent,
	"soup": s_kot_soup,
	"burnt": s_kot_burnt,
	"troll": s_kot_troll,
	"claymore": s_kot_claymore,
	"bear": s_kot_bear,
	"skull": s_kot_skull
};

if(!change_costume(load_web_string("costume"))) player_character = s_kot;

var character_spawn_offset_x = 6;
var character_spawn_offset_y = 3;
var mobile_controls_enabled = true;


var gpad_active = 0;
function gpadButton(num=-1) {
	if (num == -1) return false;
	if (!navigator.getGamepads()[0]) return false;
	return navigator.getGamepads()[0].buttons[num].pressed
}


var k_jump = vk_space;
var k_up = vk_up;
var k_left = vk_left;
var k_right = vk_right;
var k_down = vk_down;
var k_pause = vk_enter;
var k_expert = vk_e;

tu_unpausekey = k_pause;

var camera_speed_start = 1.35;
var camera_speed_expert = 1.5;
var camera_speedup_interval = 110;
var camera_speedup_increment = 3;
var camera_speedup_speed = 0.05;
var camera_speedup_maxspeed = 2.3;
var camera_speedup_stage2trigger = 1.65;
var camera_speedup_stage2increment = 240;
var camera_debug_speed = 2;

var game_meta_author = "micai";
var game_meta_version = "0.10";
var debug = false;
var debug_showsolids = false;
var sound_enabled = true;

tu_preloader_showtext = false;
tu_preloader_bgcolor = "rgb(255, 255, 255)";
tu_preloader_barbg = "rgb(255, 255, 255)";
tu_preloader_barstroke = "rgb(0, 0, 0)";
tu_preloader_barfill = "rgb(0, 0, 0)";

tu_canvas_css = "background: rgb(255, 255, 255); border: 0;";


// FUNNY OVERRIDES OF ENGINE'S FUNCTIONS
function __mousemovelistener__(_e) {
	let _r = tu_canvas.getBoundingClientRect();
	mouse_x = ((_e.clientX - _r.left)/(_r.right - _r.left)) * tu_canvas.width;
	mouse_y = ((_e.clientY - _r.top)/(_r.bottom - _r.top)) * tu_canvas.height;
	if (mouse_down) __touchsim__(mouse_x, mouse_y);
};</variables><comments>░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░░░░░░░░██░░░░░░░░░░░░██░░░░░░░░
░░░░░░██▒▒██░░░░░░░░██▒▒██░░░░░░ 
░░░░░░██▒▒▒▒██░░░░██▒▒▒▒██░░░░░░
░░░░░░██▒▒▒▒▒▒████▒▒▒▒▒▒██░░░░░░
░░░░██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██░░░░
░░░░██▒▒▒▒▒▒██▒▒▒▒▒▒██▒▒▒▒██░░░░
░░░░██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██░░░░
░░░░██▒▒▒▒██▒▒▒▒██▒▒▒▒██▒▒██░░░░
░░░░░░██▒▒▒▒████▒▒████▒▒██░░░░░░
░░░░░░░░██▒▒▒▒▒▒▒▒▒▒▒▒██░░░░░░░░
░░░░░░░░░░████████████░░░░░░░░░░
░░░░░░░░██▒▒▒▒▒▒▒▒▒▒▒▒██░░░░░░░░
░░░░░░██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██░░░░░░
░░░░░░██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██░░░░░░
░░░░░░██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██░░░░░░
░░░░░░░░████████████████░░░░░░░░
░░░░░░██▒▒▒▒▒▒▒▒██▒▒▒▒▒▒██░░░░░░
░░░░░░████████████████████░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░░░██░░██░░░░██████░░░░██████░░░
░░░████░░░░░░██░░██░░░░░░██░░░░░
░░░██░░██░░░░██████░░░░░░██░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░</comments><sprites count="61"><sprite name="col_kot" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="5" collisionbottom="22"/><sprite name="col_16x" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="0" collisionright="16" collisiontop="0" collisionbottom="16"/><sprite name="s_kot" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="8" collisionbottom="22"/><sprite name="s_ground" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="0" collisionright="16" collisiontop="0" collisionbottom="16"/><sprite name="s_dev_camera" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="0" collisionright="16" collisiontop="0" collisionbottom="16"/><sprite name="s_dev_cube" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="0" collisionright="16" collisiontop="0" collisionbottom="16"/><sprite name="s_font" centerx="0" centery="0" collisionshape="Box" collisionradius="4" collisionleft="0" collisionright="8" collisiontop="0" collisionbottom="8"/><sprite name="s_spikes" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="4" collisionright="12" collisiontop="4" collisionbottom="12"/><sprite name="s_kot_sak_old" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="8" collisionbottom="22"/><sprite name="s_kot_tall" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="8" collisionbottom="22"/><sprite name="s_kot_fat" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="8" collisionbottom="22"/><sprite name="s_kot_sak" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="8" collisionbottom="22"/><sprite name="s_dev_no" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="0" collisionright="16" collisiontop="0" collisionbottom="16"/><sprite name="s_brick" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="0" collisionright="16" collisiontop="0" collisionbottom="16"/><sprite name="s_cloud" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="0" collisionright="16" collisiontop="0" collisionbottom="16"/><sprite name="s_coin" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="2" collisionright="14" collisiontop="2" collisionbottom="14"/><sprite name="s_enemy_rat" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="8" collisionbottom="22"/><sprite name="s_enemy_rat_dead" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="1" collisionright="15" collisiontop="17" collisionbottom="22"/><sprite name="s_dev_unknown" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="0" collisionright="16" collisiontop="0" collisionbottom="16"/><sprite name="s_woodenblock" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="0" collisionright="16" collisiontop="0" collisionbottom="16"/><sprite name="s_trampoline" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="0" collisionright="16" collisiontop="0" collisionbottom="16"/><sprite name="s_kot_girl" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="8" collisionbottom="22"/><sprite name="s_kot_hat" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="8" collisionbottom="22"/><sprite name="s_mobc_l" centerx="0" centery="0" collisionshape="Box" collisionradius="24" collisionleft="0" collisionright="48" collisiontop="0" collisionbottom="48"/><sprite name="s_mobc_r" centerx="0" centery="0" collisionshape="Box" collisionradius="24" collisionleft="0" collisionright="48" collisiontop="0" collisionbottom="48"/><sprite name="s_mobc_u" centerx="0" centery="0" collisionshape="Box" collisionradius="24" collisionleft="0" collisionright="48" collisiontop="0" collisionbottom="48"/><sprite name="s_mobc_p" centerx="0" centery="0" collisionshape="Box" collisionradius="24" collisionleft="0" collisionright="48" collisiontop="0" collisionbottom="48"/><sprite name="s_kot_agent" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="8" collisionbottom="22"/><sprite name="s_kot_soup" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="8" collisionbottom="22"/><sprite name="s_debug_line" centerx="0" centery="0" collisionshape="Box" collisionradius="0" collisionleft="0" collisionright="1" collisiontop="0" collisionbottom="160"/><sprite name="s_heli" centerx="16" centery="11" collisionshape="Box" collisionradius="16" collisionleft="9" collisionright="23" collisiontop="17" collisionbottom="28"/><sprite name="s_sign_noheli" centerx="0" centery="48" collisionshape="Box" collisionradius="32" collisionleft="0" collisionright="64" collisiontop="0" collisionbottom="64"/><sprite name="s_kot_burnt" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="8" collisionbottom="22"/><sprite name="s_dev_fill50" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="0" collisionright="16" collisiontop="0" collisionbottom="16"/><sprite name="s_enemy_cactus" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="3" collisionbottom="13"/><sprite name="s_enemy_crusher" centerx="0" centery="144" collisionshape="Box" collisionradius="16" collisionleft="5" collisionright="27" collisiontop="0" collisionbottom="155"/><sprite name="s_enemy_missile" centerx="8" centery="8" collisionshape="Box" collisionradius="8" collisionleft="1" collisionright="15" collisiontop="1" collisionbottom="15"/><sprite name="s_platform" centerx="0" centery="0" collisionshape="Box" collisionradius="16" collisionleft="0" collisionright="32" collisiontop="0" collisionbottom="16"/><sprite name="s_enemy_rathuge" centerx="16" centery="22" collisionshape="Box" collisionradius="16" collisionleft="6" collisionright="26" collisiontop="16" collisionbottom="44"/><sprite name="s_enemy_rathuge_dead" centerx="16" centery="22" collisionshape="Box" collisionradius="16" collisionleft="6" collisionright="26" collisiontop="32" collisionbottom="44"/><sprite name="col_32x" centerx="0" centery="0" collisionshape="Box" collisionradius="16" collisionleft="0" collisionright="32" collisiontop="0" collisionbottom="32"/><sprite name="s_kot_troll" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="8" collisionbottom="22"/><sprite name="s_conveyor_l" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="0" collisionright="16" collisiontop="0" collisionbottom="16"/><sprite name="s_conveyor_m" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="0" collisionright="16" collisiontop="0" collisionbottom="16"/><sprite name="s_conveyor_r" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="0" collisionright="16" collisiontop="0" collisionbottom="16"/><sprite name="s_enemy_ratheli" centerx="16" centery="16" collisionshape="Box" collisionradius="16" collisionleft="9" collisionright="23" collisiontop="8" collisionbottom="24"/><sprite name="s_water" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="0" collisionright="16" collisiontop="0" collisionbottom="16"/><sprite name="s_enemy_fish" centerx="9" centery="8" collisionshape="Box" collisionradius="9" collisionleft="2" collisionright="16" collisiontop="4" collisionbottom="13"/><sprite name="s_bubble" centerx="2" centery="2" collisionshape="Box" collisionradius="2" collisionleft="0" collisionright="4" collisiontop="0" collisionbottom="4"/><sprite name="s_enemy_fish2" centerx="9" centery="8" collisionshape="Box" collisionradius="9" collisionleft="0" collisionright="18" collisiontop="3" collisionbottom="14"/><sprite name="s_kot_kenshin" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="8" collisionbottom="22"/><sprite name="s_kot_dealer" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="8" collisionbottom="22"/><sprite name="s_enemy_floatingspike" centerx="0" centery="0" collisionshape="Box" collisionradius="8" collisionleft="2" collisionright="14" collisiontop="2" collisionbottom="14"/><sprite name="s_enemy_shark" centerx="11" centery="7" collisionshape="Box" collisionradius="11" collisionleft="1" collisionright="21" collisiontop="3" collisionbottom="13"/><sprite name="s_kot_claymore" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="8" collisionbottom="22"/><sprite name="s_enemy_robot" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="8" collisionbottom="22"/><sprite name="s_enemy_bigbot" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="14" collisiontop="8" collisionbottom="22"/><sprite name="s_enemy_bigbot_shoot" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="14" collisiontop="8" collisionbottom="22"/><sprite name="s_enemy_bullet" centerx="4" centery="4" collisionshape="Box" collisionradius="4" collisionleft="0" collisionright="8" collisiontop="1" collisionbottom="7"/><sprite name="s_kot_bear" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="8" collisionbottom="22"/><sprite name="s_kot_skull" centerx="8" centery="11" collisionshape="Box" collisionradius="8" collisionleft="3" collisionright="13" collisiontop="8" collisionbottom="22"/></sprites><frames count="263"><frame file="0" sprite="col_kot"/><frame file="0" sprite="col_16x"/><frame file="0" sprite="s_kot"/><frame file="1" sprite="s_kot"/><frame file="2" sprite="s_kot"/><frame file="3" sprite="s_kot"/><frame file="0" sprite="s_dev_camera"/><frame file="0" sprite="s_dev_cube"/><frame file="0" sprite="s_spikes"/><frame file="1" sprite="s_spikes"/><frame file="2" sprite="s_spikes"/><frame file="3" sprite="s_spikes"/><frame file="0" sprite="s_kot_sak_old"/><frame file="1" sprite="s_kot_sak_old"/><frame file="2" sprite="s_kot_sak_old"/><frame file="3" sprite="s_kot_sak_old"/><frame file="0" sprite="s_kot_tall"/><frame file="1" sprite="s_kot_tall"/><frame file="2" sprite="s_kot_tall"/><frame file="3" sprite="s_kot_tall"/><frame file="0" sprite="s_kot_fat"/><frame file="1" sprite="s_kot_fat"/><frame file="2" sprite="s_kot_fat"/><frame file="3" sprite="s_kot_fat"/><frame file="0" sprite="s_kot_sak"/><frame file="1" sprite="s_kot_sak"/><frame file="2" sprite="s_kot_sak"/><frame file="3" sprite="s_kot_sak"/><frame file="0" sprite="s_dev_no"/><frame file="2" sprite="s_ground"/><frame file="5" sprite="s_brick"/><frame file="2" sprite="s_cloud"/><frame file="0" sprite="s_coin"/><frame file="1" sprite="s_coin"/><frame file="2" sprite="s_coin"/><frame file="3" sprite="s_coin"/><frame file="4" sprite="s_coin"/><frame file="5" sprite="s_coin"/><frame file="6" sprite="s_coin"/><frame file="7" sprite="s_coin"/><frame file="8" sprite="s_coin"/><frame file="9" sprite="s_coin"/><frame file="10" sprite="s_coin"/><frame file="11" sprite="s_coin"/><frame file="0" sprite="s_enemy_rat"/><frame file="1" sprite="s_enemy_rat"/><frame file="2" sprite="s_enemy_rat"/><frame file="3" sprite="s_enemy_rat"/><frame file="0" sprite="s_enemy_rat_dead"/><frame file="0" sprite="s_dev_unknown"/><frame file="0" sprite="s_woodenblock"/><frame file="0" sprite="s_kot_girl"/><frame file="1" sprite="s_kot_girl"/><frame file="2" sprite="s_kot_girl"/><frame file="3" sprite="s_kot_girl"/><frame file="0" sprite="s_kot_hat"/><frame file="1" sprite="s_kot_hat"/><frame file="2" sprite="s_kot_hat"/><frame file="3" sprite="s_kot_hat"/><frame file="0" sprite="s_font"/><frame file="1" sprite="s_font"/><frame file="2" sprite="s_font"/><frame file="3" sprite="s_font"/><frame file="4" sprite="s_font"/><frame file="5" sprite="s_font"/><frame file="6" sprite="s_font"/><frame file="7" sprite="s_font"/><frame file="8" sprite="s_font"/><frame file="9" sprite="s_font"/><frame file="10" sprite="s_font"/><frame file="11" sprite="s_font"/><frame file="12" sprite="s_font"/><frame file="13" sprite="s_font"/><frame file="14" sprite="s_font"/><frame file="15" sprite="s_font"/><frame file="16" sprite="s_font"/><frame file="17" sprite="s_font"/><frame file="18" sprite="s_font"/><frame file="19" sprite="s_font"/><frame file="20" sprite="s_font"/><frame file="21" sprite="s_font"/><frame file="22" sprite="s_font"/><frame file="23" sprite="s_font"/><frame file="24" sprite="s_font"/><frame file="25" sprite="s_font"/><frame file="26" sprite="s_font"/><frame file="27" sprite="s_font"/><frame file="28" sprite="s_font"/><frame file="29" sprite="s_font"/><frame file="30" sprite="s_font"/><frame file="31" sprite="s_font"/><frame file="32" sprite="s_font"/><frame file="33" sprite="s_font"/><frame file="34" sprite="s_font"/><frame file="35" sprite="s_font"/><frame file="36" sprite="s_font"/><frame file="37" sprite="s_font"/><frame file="38" sprite="s_font"/><frame file="39" sprite="s_font"/><frame file="40" sprite="s_font"/><frame file="41" sprite="s_font"/><frame file="42" sprite="s_font"/><frame file="43" sprite="s_font"/><frame file="44" sprite="s_font"/><frame file="45" sprite="s_font"/><frame file="46" sprite="s_font"/><frame file="47" sprite="s_font"/><frame file="48" sprite="s_font"/><frame file="49" sprite="s_font"/><frame file="50" sprite="s_font"/><frame file="51" sprite="s_font"/><frame file="52" sprite="s_font"/><frame file="53" sprite="s_font"/><frame file="54" sprite="s_font"/><frame file="55" sprite="s_font"/><frame file="56" sprite="s_font"/><frame file="57" sprite="s_font"/><frame file="58" sprite="s_font"/><frame file="59" sprite="s_font"/><frame file="60" sprite="s_font"/><frame file="61" sprite="s_font"/><frame file="62" sprite="s_font"/><frame file="63" sprite="s_font"/><frame file="64" sprite="s_font"/><frame file="65" sprite="s_font"/><frame file="66" sprite="s_font"/><frame file="67" sprite="s_font"/><frame file="68" sprite="s_font"/><frame file="69" sprite="s_font"/><frame file="70" sprite="s_font"/><frame file="71" sprite="s_font"/><frame file="72" sprite="s_font"/><frame file="73" sprite="s_font"/><frame file="74" sprite="s_font"/><frame file="75" sprite="s_font"/><frame file="76" sprite="s_font"/><frame file="77" sprite="s_font"/><frame file="78" sprite="s_font"/><frame file="79" sprite="s_font"/><frame file="80" sprite="s_font"/><frame file="81" sprite="s_font"/><frame file="82" sprite="s_font"/><frame file="83" sprite="s_font"/><frame file="84" sprite="s_font"/><frame file="85" sprite="s_font"/><frame file="86" sprite="s_font"/><frame file="87" sprite="s_font"/><frame file="88" sprite="s_font"/><frame file="89" sprite="s_font"/><frame file="90" sprite="s_font"/><frame file="91" sprite="s_font"/><frame file="92" sprite="s_font"/><frame file="93" sprite="s_font"/><frame file="94" sprite="s_font"/><frame file="0" sprite="s_mobc_l"/><frame file="0" sprite="s_mobc_r"/><frame file="0" sprite="s_mobc_u"/><frame file="0" sprite="s_mobc_p"/><frame file="0" sprite="s_kot_agent"/><frame file="1" sprite="s_kot_agent"/><frame file="2" sprite="s_kot_agent"/><frame file="3" sprite="s_kot_agent"/><frame file="0" sprite="s_kot_soup"/><frame file="1" sprite="s_kot_soup"/><frame file="2" sprite="s_kot_soup"/><frame file="3" sprite="s_kot_soup"/><frame file="0" sprite="s_debug_line"/><frame file="0" sprite="s_heli"/><frame file="1" sprite="s_heli"/><frame file="2" sprite="s_heli"/><frame file="3" sprite="s_heli"/><frame file="4" sprite="s_heli"/><frame file="5" sprite="s_heli"/><frame file="6" sprite="s_heli"/><frame file="0" sprite="s_trampoline"/><frame file="1" sprite="s_trampoline"/><frame file="2" sprite="s_trampoline"/><frame file="3" sprite="s_trampoline"/><frame file="0" sprite="s_sign_noheli"/><frame file="0" sprite="s_kot_burnt"/><frame file="1" sprite="s_kot_burnt"/><frame file="2" sprite="s_kot_burnt"/><frame file="3" sprite="s_kot_burnt"/><frame file="0" sprite="s_dev_fill50"/><frame file="0" sprite="s_enemy_cactus"/><frame file="1" sprite="s_enemy_cactus"/><frame file="0" sprite="s_enemy_crusher"/><frame file="0" sprite="s_enemy_missile"/><frame file="0" sprite="s_platform"/><frame file="0" sprite="s_enemy_rathuge"/><frame file="1" sprite="s_enemy_rathuge"/><frame file="2" sprite="s_enemy_rathuge"/><frame file="3" sprite="s_enemy_rathuge"/><frame file="0" sprite="s_enemy_rathuge_dead"/><frame file="0" sprite="col_32x"/><frame file="0" sprite="s_kot_troll"/><frame file="1" sprite="s_kot_troll"/><frame file="2" sprite="s_kot_troll"/><frame file="3" sprite="s_kot_troll"/><frame file="0" sprite="s_conveyor_l"/><frame file="1" sprite="s_conveyor_l"/><frame file="0" sprite="s_conveyor_m"/><frame file="1" sprite="s_conveyor_m"/><frame file="0" sprite="s_conveyor_r"/><frame file="1" sprite="s_conveyor_r"/><frame file="0" sprite="s_enemy_ratheli"/><frame file="1" sprite="s_enemy_ratheli"/><frame file="2" sprite="s_enemy_ratheli"/><frame file="3" sprite="s_enemy_ratheli"/><frame file="4" sprite="s_enemy_ratheli"/><frame file="5" sprite="s_enemy_ratheli"/><frame file="6" sprite="s_enemy_ratheli"/><frame file="0" sprite="s_water"/><frame file="1" sprite="s_water"/><frame file="2" sprite="s_water"/><frame file="3" sprite="s_water"/><frame file="4" sprite="s_water"/><frame file="5" sprite="s_water"/><frame file="6" sprite="s_water"/><frame file="7" sprite="s_water"/><frame file="0" sprite="s_bubble"/><frame file="0" sprite="s_enemy_fish"/><frame file="1" sprite="s_enemy_fish"/><frame file="0" sprite="s_enemy_fish2"/><frame file="1" sprite="s_enemy_fish2"/><frame file="0" sprite="s_kot_kenshin"/><frame file="1" sprite="s_kot_kenshin"/><frame file="2" sprite="s_kot_kenshin"/><frame file="3" sprite="s_kot_kenshin"/><frame file="0" sprite="s_kot_dealer"/><frame file="1" sprite="s_kot_dealer"/><frame file="2" sprite="s_kot_dealer"/><frame file="3" sprite="s_kot_dealer"/><frame file="0" sprite="s_enemy_floatingspike"/><frame file="0" sprite="s_kot_claymore"/><frame file="1" sprite="s_kot_claymore"/><frame file="2" sprite="s_kot_claymore"/><frame file="3" sprite="s_kot_claymore"/><frame file="0" sprite="s_enemy_robot"/><frame file="1" sprite="s_enemy_robot"/><frame file="2" sprite="s_enemy_robot"/><frame file="3" sprite="s_enemy_robot"/><frame file="0" sprite="s_enemy_bigbot"/><frame file="1" sprite="s_enemy_bigbot"/><frame file="2" sprite="s_enemy_bigbot"/><frame file="3" sprite="s_enemy_bigbot"/><frame file="0" sprite="s_enemy_bigbot_shoot"/><frame file="1" sprite="s_enemy_bigbot_shoot"/><frame file="2" sprite="s_enemy_bigbot_shoot"/><frame file="3" sprite="s_enemy_bigbot_shoot"/><frame file="0" sprite="s_enemy_bullet"/><frame file="0" sprite="s_enemy_shark"/><frame file="1" sprite="s_enemy_shark"/><frame file="2" sprite="s_enemy_shark"/><frame file="3" sprite="s_enemy_shark"/><frame file="0" sprite="s_kot_bear"/><frame file="1" sprite="s_kot_bear"/><frame file="2" sprite="s_kot_bear"/><frame file="3" sprite="s_kot_bear"/><frame file="0" sprite="s_kot_skull"/><frame file="1" sprite="s_kot_skull"/><frame file="2" sprite="s_kot_skull"/><frame file="3" sprite="s_kot_skull"/></frames><sounds count="11"><sound name="snd_jump" wav="" mp3="" ogg="jump.ogg"/><sound name="snd_coin" wav="" mp3="" ogg="coin.ogg"/><sound name="snd_stomp" wav="" mp3="" ogg="stomp.ogg"/><sound name="snd_dead" wav="" mp3="" ogg="dead.ogg"/><sound name="snd_trampoline" wav="" mp3="" ogg="trampoline.ogg"/><sound name="snd_pause" wav="" mp3="" ogg="pause.ogg"/><sound name="snd_bump" wav="" mp3="" ogg="bump.ogg"/><sound name="snd_float" wav="" mp3="" ogg="float.ogg"/><sound name="snd_vehicledie" wav="" mp3="" ogg="vehicledie.ogg"/><sound name="snd_thump" wav="" mp3="" ogg="thump.ogg"/><sound name="snd_missile" wav="" mp3="" ogg="missile.ogg"/></sounds><musics count="0"/><backgrounds count="18"><background name="ts_ground" file="ts_ground_mono_strip16.png" tile="1" tileheight="16" tilewidth="16" tilexoffset="0" tileyoffset="0" tilexspace="0" tileyspace="0"/><background name="ts_brick" file="s_brick_mono_detail_strip16.png" tile="1" tileheight="16" tilewidth="16" tilexoffset="0" tileyoffset="0" tilexspace="0" tileyspace="0"/><background name="ts_cloud" file="s_cloud_mono.png" tile="1" tileheight="16" tilewidth="16" tilexoffset="0" tileyoffset="0" tilexspace="0" tileyspace="0"/><background name="bg_dev_grid" file="bg_dev_grid.png" tile="0" tileheight="32" tilewidth="32" tilexoffset="0" tileyoffset="0" tilexspace="0" tileyspace="0"/><background name="ts_woodenblock" file="ts_woodenblock.png" tile="1" tileheight="16" tilewidth="16" tilexoffset="0" tileyoffset="0" tilexspace="0" tileyspace="0"/><background name="ts_cave" file="ts_cave_mono_strip16.png" tile="1" tileheight="16" tilewidth="16" tilexoffset="0" tileyoffset="0" tilexspace="0" tileyspace="0"/><background name="ts_cat_trail" file="s_cat_trail.png" tile="0" tileheight="32" tilewidth="32" tilexoffset="0" tileyoffset="0" tilexspace="0" tileyspace="0"/><background name="ts_sand" file="ts_sand_strip16.png" tile="1" tileheight="16" tilewidth="16" tilexoffset="0" tileyoffset="0" tilexspace="0" tileyspace="0"/><background name="ts_tree" file="ts_tree_strip16.png" tile="1" tileheight="16" tilewidth="16" tilexoffset="0" tileyoffset="0" tilexspace="0" tileyspace="0"/><background name="ts_panel" file="ts_segment_strip16.png" tile="1" tileheight="16" tilewidth="16" tilexoffset="0" tileyoffset="0" tilexspace="0" tileyspace="0"/><background name="ts_wood" file="ts_wood_strip16.png" tile="1" tileheight="16" tilewidth="16" tilexoffset="0" tileyoffset="0" tilexspace="0" tileyspace="0"/><background name="ts_bigbrick" file="ts_bigbrick_strip16.png" tile="1" tileheight="16" tilewidth="16" tilexoffset="0" tileyoffset="0" tilexspace="0" tileyspace="0"/><background name="ts_huge" file="s_bl_ground_giant_strip16.png" tile="1" tileheight="32" tilewidth="32" tilexoffset="0" tileyoffset="0" tilexspace="0" tileyspace="0"/><background name="ts_woodenhuge" file="s_bl_woodblock_giant.png" tile="1" tileheight="32" tilewidth="32" tilexoffset="0" tileyoffset="0" tilexspace="0" tileyspace="0"/><background name="ts_groundalt" file="ts_ground_alt_strip16.png" tile="1" tileheight="16" tilewidth="16" tilexoffset="0" tileyoffset="0" tilexspace="0" tileyspace="0"/><background name="ts_metal" file="ts_metal_strip16.png" tile="1" tileheight="16" tilewidth="16" tilexoffset="0" tileyoffset="0" tilexspace="0" tileyspace="0"/><background name="ts_pipe" file="ts_pipe_strip16.png" tile="1" tileheight="16" tilewidth="16" tilexoffset="0" tileyoffset="0" tilexspace="0" tileyspace="0"/><background name="ts_bridge" file="ts_bridge_strip16.png" tile="1" tileheight="16" tilewidth="16" tilexoffset="0" tileyoffset="0" tilexspace="0" tileyspace="0"/></backgrounds><fonts count="0"/><objects count="270"><object name="o_autotile" template="" prototype="1" scene="" sprite="s_ground" x="0" y="0" visible="0" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_kot" template="" prototype="1" scene="" sprite="s_kot" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="SceneObject161" template="o_kot" prototype="0" scene="sc_game" sprite="s_kot" x="80" y="96" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_camera" template="" prototype="1" scene="" sprite="s_dev_camera" x="0" y="0" visible="1" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_hud" template="" prototype="1" scene="" sprite="s_dev_cube" x="0" y="0" visible="1" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_enemy_spikes" template="" prototype="1" scene="" sprite="s_spikes" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_dev_solid" template="" prototype="1" scene="" sprite="col_16x" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_dev_hazard" template="" prototype="1" scene="" sprite="s_dev_no" x="0" y="0" visible="0" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_bl_brick" template="" prototype="1" scene="" sprite="s_brick" x="0" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_bl_cloud" template="" prototype="1" scene="" sprite="s_cloud" x="0" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_coin" template="" prototype="1" scene="" sprite="s_coin" x="0" y="0" visible="1" depth="2" collision="1" parent="" direction="0" image_angle="0"/><object name="o_enemy_rat" template="" prototype="1" scene="" sprite="s_enemy_rat" x="0" y="0" visible="1" depth="2" collision="1" parent="" direction="0" image_angle="0"/><object name="o_world_generator" template="" prototype="1" scene="" sprite="s_dev_cube" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="SceneObject1770" template="o_camera" prototype="0" scene="sc_game" sprite="s_dev_camera" x="124" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_debug_line" template="" prototype="1" scene="" sprite="s_debug_line" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="SceneObject1776" template="o_hud" prototype="0" scene="sc_game" sprite="s_dev_cube" x="0" y="16" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject1777" template="o_world_generator" prototype="0" scene="sc_game" sprite="s_dev_cube" x="0" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_dev_mainmenu" template="" prototype="1" scene="" sprite="s_dev_unknown" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_dev_cat_demo" template="" prototype="1" scene="" sprite="s_kot" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_bl_woodenblock" template="" prototype="1" scene="" sprite="s_woodenblock" x="0" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_bl_cave" template="" prototype="1" scene="" sprite="s_woodenblock" x="0" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_trampoline" template="" prototype="1" scene="" sprite="s_trampoline" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="SceneObject1979" template="o_hud" prototype="0" scene="sc_init" sprite="s_dev_cube" x="0" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_corpse" template="" prototype="1" scene="" sprite="s_kot_burnt" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_mobile_buttons" template="" prototype="1" scene="" sprite="s_dev_cube" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="SceneObject2001" template="o_kot" prototype="0" scene="sc_prototype" sprite="s_kot" x="64" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2002" template="o_hud" prototype="0" scene="sc_prototype" sprite="s_dev_cube" x="0" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2003" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="384" y="80" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2004" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="384" y="48" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2005" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="384" y="32" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2006" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="384" y="16" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2007" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="384" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2008" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="400" y="48" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2009" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="416" y="48" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2010" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="400" y="80" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2011" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="400" y="96" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2012" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="400" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2013" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="416" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2014" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="432" y="64" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2015" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="432" y="80" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2016" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="432" y="48" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2017" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="432" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2018" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="448" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2019" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="464" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2020" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="464" y="96" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2021" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="464" y="80" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2022" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="464" y="64" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2023" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="480" y="64" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2024" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="464" y="32" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2025" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="480" y="32" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2026" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="464" y="16" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2027" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="448" y="16" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2028" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="432" y="16" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2029" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="416" y="16" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2030" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="496" y="32" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2031" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="496" y="64" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2032" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="464" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2033" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="464" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2034" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="480" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2035" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="512" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2036" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="496" y="80" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2037" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="496" y="96" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2038" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="480" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2039" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="496" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2040" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="512" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2041" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="544" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2042" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="528" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2043" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="528" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2044" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="528" y="96" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2045" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="544" y="96" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2046" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="512" y="32" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2047" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="528" y="32" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2048" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="528" y="64" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2049" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="544" y="64" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2050" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="528" y="48" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2051" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="560" y="64" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2052" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="560" y="96" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2053" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="576" y="96" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2054" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="592" y="96" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2055" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="560" y="48" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2056" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="560" y="32" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2057" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="592" y="64" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2058" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="592" y="48" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2059" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="592" y="32" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2060" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="592" y="16" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2061" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="592" y="16" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2062" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="592" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2063" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="576" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2064" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="576" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2065" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="560" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2066" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="544" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2067" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="544" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2068" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="544" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2069" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="528" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2070" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="512" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2071" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="496" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2072" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="496" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2073" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="480" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2074" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="608" y="96" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2075" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="608" y="64" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2076" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="624" y="64" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2077" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="640" y="64" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2078" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="640" y="80" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2079" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="640" y="96" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2080" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="640" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2081" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="624" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2082" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="608" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2083" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="608" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2084" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="592" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2085" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="560" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2086" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="576" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2087" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="640" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2088" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="656" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2089" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="672" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2090" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="688" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2091" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="688" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2092" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="704" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2093" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="704" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2094" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="704" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2095" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="656" y="96" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2096" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="688" y="96" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2097" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="688" y="80" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2098" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="688" y="64" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2099" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="672" y="64" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2100" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="672" y="48" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2101" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="672" y="32" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2102" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="656" y="32" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2103" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="640" y="32" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2104" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="624" y="32" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2105" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="624" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2106" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="640" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2107" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="656" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2108" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="672" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2109" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="688" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2110" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="704" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2111" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="704" y="16" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2112" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="704" y="32" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2113" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="704" y="32" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2114" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="720" y="32" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2115" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="720" y="48" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2116" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="720" y="48" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2117" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="720" y="64" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2118" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="720" y="80" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2119" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="720" y="96" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2120" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="720" y="96" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2121" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="720" y="96" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2122" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="720" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2123" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="736" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2124" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="752" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2125" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="752" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2126" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="752" y="96" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2127" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="752" y="80" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2128" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="768" y="80" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2129" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="736" y="48" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2130" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="752" y="48" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2131" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="768" y="48" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2132" template="o_autotile" prototype="0" scene="sc_prototype" sprite="s_ground" x="368" y="80" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_sign_noheli" template="" prototype="1" scene="" sprite="s_sign_noheli" x="0" y="0" visible="1" depth="2" collision="1" parent="" direction="0" image_angle="0"/><object name="o_veh_heli" template="" prototype="1" scene="" sprite="s_heli" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_enemy_ratheli" template="" prototype="1" scene="" sprite="s_enemy_ratheli" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_enemy_cactus" template="" prototype="1" scene="" sprite="s_enemy_cactus" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_bl_sand" template="" prototype="1" scene="" sprite="s_woodenblock" x="0" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_debug_marker" template="" prototype="1" scene="" sprite="s_debug_line" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_bl_tree" template="" prototype="1" scene="" sprite="s_woodenblock" x="0" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_enemy_crusher" template="" prototype="1" scene="" sprite="s_enemy_crusher" x="0" y="0" visible="1" depth="1" collision="1" parent="" direction="0" image_angle="0"/><object name="o_bl_panel" template="" prototype="1" scene="" sprite="s_woodenblock" x="0" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_bl_wood" template="" prototype="1" scene="" sprite="s_woodenblock" x="0" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_enemy_missile" template="" prototype="1" scene="" sprite="s_enemy_missile" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_bl_bigbrick" template="" prototype="1" scene="" sprite="s_woodenblock" x="0" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_platform" template="" prototype="1" scene="" sprite="s_platform" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_platform_move_r" template="" prototype="1" scene="" sprite="s_platform" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_platform_move_d" template="" prototype="1" scene="" sprite="s_platform" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_platform_move_l" template="" prototype="1" scene="" sprite="s_platform" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_platform_move_u" template="" prototype="1" scene="" sprite="s_platform" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_platform_reverse" template="" prototype="1" scene="" sprite="s_dev_fill50" x="0" y="0" visible="0" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_platform_fall" template="" prototype="1" scene="" sprite="s_platform" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_bl_huge" template="" prototype="1" scene="" sprite="col_32x" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_bl_woodenhuge" template="" prototype="1" scene="" sprite="col_32x" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_enemy_rathuge" template="" prototype="1" scene="" sprite="s_enemy_rathuge" x="0" y="0" visible="1" depth="2" collision="1" parent="" direction="0" image_angle="0"/><object name="o_platform_lift" template="" prototype="1" scene="" sprite="s_platform" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_bl_groundalt" template="" prototype="1" scene="" sprite="s_woodenblock" x="0" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_bl_metal" template="" prototype="1" scene="" sprite="s_woodenblock" x="0" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_conveyor_l" template="" prototype="1" scene="" sprite="s_conveyor_l" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_conveyor_r" template="" prototype="1" scene="" sprite="s_conveyor_r" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="SceneObject2277" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="208" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2279" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="208" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2280" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="224" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2281" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="224" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2282" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="208" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2284" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="240" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2285" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="240" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2286" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="256" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2287" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="256" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2288" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="256" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2289" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="256" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2290" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="272" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2291" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="272" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2292" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="272" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2293" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="272" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2309" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="320" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2310" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="368" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2311" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="368" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2314" template="o_conveyor_l" prototype="0" scene="sc_prototype" sprite="s_conveyor_l" x="352" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2315" template="o_conveyor_l" prototype="0" scene="sc_prototype" sprite="s_conveyor_l" x="336" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2316" template="o_conveyor_l" prototype="0" scene="sc_prototype" sprite="s_conveyor_l" x="320" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2317" template="o_conveyor_l" prototype="0" scene="sc_prototype" sprite="s_conveyor_l" x="304" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2318" template="o_conveyor_l" prototype="0" scene="sc_prototype" sprite="s_conveyor_l" x="288" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_gamepad_test" template="" prototype="1" scene="" sprite="s_dev_unknown" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="SceneObject2326" template="o_gamepad_test" prototype="0" scene="sc_game" sprite="s_dev_unknown" x="0" y="32" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_bl_pipe" template="" prototype="1" scene="" sprite="s_woodenblock" x="0" y="0" visible="0" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="SceneObject2329" template="o_bl_groundalt" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="16" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2330" template="o_bl_groundalt" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="0" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2331" template="o_bl_groundalt" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="0" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2332" template="o_bl_groundalt" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="16" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2333" template="o_bl_groundalt" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="32" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2334" template="o_bl_groundalt" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="32" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2335" template="o_bl_groundalt" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="48" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2336" template="o_bl_groundalt" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="48" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2337" template="o_bl_groundalt" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="64" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2338" template="o_bl_groundalt" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="64" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2339" template="o_bl_groundalt" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="80" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2340" template="o_bl_groundalt" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="80" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2341" template="o_bl_groundalt" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="96" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2342" template="o_bl_groundalt" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="96" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_enemy_crush_up" template="" prototype="1" scene="" sprite="s_enemy_crusher" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_enemy_ratheli_stay" template="" prototype="1" scene="" sprite="s_enemy_ratheli" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_water" template="" prototype="1" scene="" sprite="s_water" x="0" y="0" visible="1" depth="1" collision="1" parent="" direction="0" image_angle="0"/><object name="SceneObject2357" template="o_water" prototype="0" scene="sc_prototype" sprite="s_water" x="112" y="128" visible="0" depth="1" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2358" template="o_water" prototype="0" scene="sc_prototype" sprite="s_water" x="128" y="128" visible="0" depth="1" collision="0" parent="" direction="0" image_angle="0"/><object name="o_water_disable" template="" prototype="1" scene="" sprite="col_16x" x="0" y="0" visible="0" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_enemy_fish" template="" prototype="1" scene="" sprite="s_enemy_fish" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_deco_bubble" template="" prototype="1" scene="" sprite="s_bubble" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_watercurrent" template="" prototype="1" scene="" sprite="col_16x" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_watercurrent_l" template="" prototype="1" scene="" sprite="s_bubble" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_watercurrent_r" template="" prototype="1" scene="" sprite="s_bubble" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_watercurrent_u" template="" prototype="1" scene="" sprite="s_bubble" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_watercurrent_d" template="" prototype="1" scene="" sprite="s_bubble" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_bl_bridge" template="" prototype="1" scene="" sprite="s_woodenblock" x="0" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_enemy_fishjump" template="" prototype="1" scene="" sprite="s_enemy_fish2" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_enemy_shark" template="" prototype="1" scene="" sprite="s_enemy_shark" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_enemy_floatingspike" template="" prototype="1" scene="" sprite="s_enemy_floatingspike" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_enemy_fspike_l" template="" prototype="1" scene="" sprite="s_enemy_floatingspike" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_enemy_fspike_u" template="" prototype="1" scene="" sprite="s_enemy_floatingspike" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_enemy_robot" template="" prototype="1" scene="" sprite="s_enemy_robot" x="0" y="0" visible="1" depth="2" collision="1" parent="" direction="0" image_angle="0"/><object name="SceneObject2397" template="o_enemy_robot" prototype="0" scene="sc_prototype" sprite="s_enemy_robot" x="272" y="96" visible="0" depth="2" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2399" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="240" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2400" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="160" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2401" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="160" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2402" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="144" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2403" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="176" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2404" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="192" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2405" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="208" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2406" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="224" y="112" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2407" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="144" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2408" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="144" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2409" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="160" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2410" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="160" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2411" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="176" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2412" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="176" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2413" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="192" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2414" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="192" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2415" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="208" y="128" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="SceneObject2416" template="o_bl_metal" prototype="0" scene="sc_prototype" sprite="s_woodenblock" x="208" y="144" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_enemy_bigbot" template="" prototype="1" scene="" sprite="s_enemy_bigbot" x="0" y="0" visible="1" depth="2" collision="1" parent="" direction="0" image_angle="0"/><object name="o_enemy_bullet" template="" prototype="1" scene="" sprite="s_enemy_bullet" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_bl_ground" template="" prototype="1" scene="" sprite="s_woodenblock" x="0" y="0" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_titlescreen" template="" prototype="1" scene="" sprite="s_dev_unknown" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="SceneObject2433" template="o_titlescreen" prototype="0" scene="sc_game" sprite="s_dev_unknown" x="0" y="48" visible="0" depth="0" collision="0" parent="" direction="0" image_angle="0"/><object name="o_mobile_controls_setup" template="" prototype="1" scene="" sprite="s_dev_unknown" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/><object name="o_mobile_controls_step" template="" prototype="1" scene="" sprite="s_dev_unknown" x="0" y="0" visible="1" depth="0" collision="1" parent="" direction="0" image_angle="0"/></objects><scripts count="191"><script name="scr_6" object="o_kot" event="Creation" parameter="">// MARCELLUS LEWIS OSWALD LAQUAN VII
player_object = this;
image_speed = 0;
sprite_index = player_character;

x += character_spawn_offset_x;
xstart += character_spawn_offset_x;
y += character_spawn_offset_y;
ystart += character_spawn_offset_y;

// Variables
this.distance_travelled = xstart;

this.vx = 0;
this.vy = 0;
this.vxe = 0;
this.vye = 0;
this.vxt = 0;
this.vyt = 0;
this.dirx = 0;
this.diry = 0;
this.dirx_last = 0;
this.diry_last = 0;
this.keyx = 0;
this.keyy = false;
this.keyy_p = false;
this.keyy_r = false;
this.coyote = 0;
this.coyote_max = 5;
this.jumpbuffer = 0;
this.jumpbuffer_max = 5;
this.jumpbrake_disabled = false;
this.sprite_dir = 1;
this.xsafe = x;
this.ysafe = y;
this.grounded = false;
this.dead = false;
this.modetick = 0;
this.nogravity = false;

// Properties
this.friction = 0.65;
this.airfriction = 0.85;
this.gravity = 0.5;
this.jumppower = 8;
this.accel = 0.4;
this.jumpbrake = 0.6;
this.vx_max = 3;
this.vy_max = 3;
this.enemy_bounce = 0.75;
this.enemy_bounce_high = 1;
this.stomp_lenient = true;
this.stomp_offset = 0;



// - MODES - //
this.mode = null;
this.decoration = null;
this.decoration_frame = 0;

function playermode(name) {
	this.name = name;
	// Properties
	this.gravity = 0.5;
	this.friction = 0.75;
	this.airfriction = 0.85;
	this.jumppower = 8;
	this.jumpbrake = 0.6;
	this.accel = 0.5;
	this.vx_max = 3;
	this.vy_max = 3;
	this.decoration = null;
	this.stomp_lenient = true;
	this.stomp_offset = 0;
	
	
	this.begin = function(me) {}
	this.update = function(me) {}
	this.lateupdate = function(me) {}
	this.end = function(me) {}
	this.on_collision_h = function(me) {
		me.vx *= 0.1;
	}
	this.on_collision_v = function(me) {}
	this.on_death = function(me) {}
	
	this.activate = function(me) {
		if(me.mode != null) me.mode.end(me);
		me.mode = this;
		me.gravity = this.gravity;
		me.friction = this.friction;
		me.airfriction = this.airfriction;
		me.jumppower = this.jumppower;
		me.jumpbrake = this.jumpbrake;
		me.accel = this.accel;
		me.vx_max = this.vx_max;
		me.vy_max = this.vy_max;
		me.decoration = this.decoration;
		me.decoration_frame = 0;
		me.stomp_lenient = this.stomp_lenient;
		me.stomp_offset = this.stomp_offset;
		me.modetick = 0;
		this.begin(me);
	}
	
	this.jump = function(me) {
		if(place_meeting(me.x, me.y-this.jumppower, o_dev_solid) == null &amp;&amp; (me.grounded || (me.coyote &gt; 0 &amp;&amp; me.diry != -1))) {
			me.jumpbuffer = 0;
			me.vy = -this.jumppower;
			sound_c_play(snd_jump);
		}
	}
}

// Foot mode (default)
this.m_foot = new playermode("foot"); // no custom settings, will use default ones

// Swim mode
this.m_swim = new playermode("swim");
this.m_swim.gravity = 0.15;
this.m_swim.friction = 0.94;
this.m_swim.airfriction = 0.98;
this.m_swim.jumppower = 4;
this.m_swim.accel = 0.25;
this.m_swim.vy_max = 2;

this.m_swim.begin = function(me) {
	
}

this.m_swim.update = function(me) {
	if(me.modetick &gt; 40) {
		me.modetick = 0;
		instance_create(me.x+(5*me.sprite_dir), me.y-2, o_deco_bubble);
	}
	if(me.keyx != 0) image_speed = 0.1;
}

this.m_swim.jump = function(me) {
	if(place_meeting(me.x, me.y-this.jumppower, o_dev_solid) == null) {
		me.jumpbuffer = 0;
		me.vy = -this.jumppower;
		sound_c_play(snd_float);
		instance_create(me.x+(5*me.sprite_dir), me.y-2, o_deco_bubble);
	}
}

// Heli mode
this.m_heli = new playermode("heli");
this.m_heli.decoration = s_heli;
this.m_heli.gravity = 0.2;
this.m_heli.friction = 0.97;
this.m_heli.airfriction = 0.97;
this.m_heli.jumppower = 4;
this.m_heli.jumpbrake = 1;
this.m_heli.accel = 0.25;
this.m_heli.vx_max = 4;
this.m_heli.stomp_lenient = false;
this.m_heli.stomp_offset = 6;

this.m_heli.jump = function(me) {
	if(place_meeting(me.x, me.y-this.jumppower, o_dev_solid) == null) {
		me.jumpbuffer = 0;
		me.vy = -this.jumppower;
		sound_c_play(snd_float);
	}
}

this.m_heli.on_collision_h = function(me) {
	me.vx = -me.vx * 0.6;
	sound_c_play(snd_bump);
}

this.m_heli.on_collision_v = function(me) {
	if(abs(me.vy) &gt; 0.3) sound_c_play(snd_bump);
	me.vy = -me.vy * 0.6;
}

this.m_heli.on_death = function(me) {
	spawn_corpse(me.x, me.y, s_heli, me.sprite_dir);
}

this.m_heli.begin = function(me) {
	this.animf = 0;
	me.vy = 0;
}

this.m_heli.update = function(me) {
	if(game_timer % 2 == 0) me.decoration_frame += 1;
	if(me.decoration_frame &gt; 6) me.decoration_frame = 0;
}

this.m_heli.end = function(me) {
	spawn_corpse(me.x, me.y, s_heli, me.sprite_dir);
	sound_c_play(snd_vehicledie);
}


// Activate default mode
this.m_foot.activate(this);

// - FUNCTIONS - //
this.die = function() {
	if(!this.dead) {
		this.vx = 0;
		this.vy = 0;
		spawn_corpse(x, y, player_character, sprite_dir);
		sound_c_play(snd_dead);
		last_score = hud_object.score;
		highscore_update();
		this.mode.on_death(this);
		this.dead = true;
	}
};

this.try_stomp = function(other) {
if(!other.dead &amp;&amp; !this.dead) {
	if(this.stomp_lenient == true) {
		if(this.vy &gt; 0) {
			other.die();
			sound_c_play(snd_stomp);
			hud_object.score += other.reward;
			if(this.keyy == true) this.vy = -(this.jumppower * this.enemy_bounce_high);
			else this.vy = -(this.jumppower * this.enemy_bounce);
		} else { this.die() };
	} else {
		if(this.y+this.mode.stomp_offset &lt; other.y) {
			other.die();
			sound_c_play(snd_stomp);
			hud_object.score += other.reward;
			this.vy = -this.jumppower;
		} else this.die();
	}
}
}</script><script name="scr_8" object="o_kot" event="Step" parameter="">if(game_paused) {
	image_speed = 0;
	return;
}

// - Controls and movement -
if(!this.dead) {
	this.mode.update(this);
	this.modetick += 1;
	
	// Inputs
	if(game_inmenu == false) {
		this.keyy = input_down(k_up, k_jump, vk_w);
		this.keyy_p = input_pressed(k_up, k_jump, vk_w);
		this.keyy_r = input_released(k_up, k_jump, vk_w);
		this.keyx = ((input_down_int(k_right, vk_d) || gpadButton(15)) - (input_down_int(k_left, vk_a) || gpadButton(14)));
	}
	
	// Jumping
	if(this.keyy_p == true) {
		game_started = true;
		this.jumpbuffer = this.jumpbuffer_max;
	}
	
	if(this.keyy_r == true &amp;&amp; this.diry == -1 &amp;&amp; !this.jumpbrake_disabled ) {
		this.vy *= this.jumpbrake;
	}
	
	if(this.jumpbuffer &gt; 0) {
		this.mode.jump(this);
		this.jumpbuffer -= 1;
	}
	
	// Falling
	if(!this.grounded) {
		if(!this.nogravity) this.vy += this.gravity;
		if(this.coyote &gt; 0) this.coyote -= 1;
	} else {
		this.coyote = this.coyote_max;
	}
	
	// Limit and apply speed	
	if(this.vx &gt; this.vx_max) this.vx = this.vx_max;
	if(this.vx &lt; -this.vx_max) this.vx = -this.vx_max;
	x += this.vx;
	y += this.vy;
	if(place_meeting(x+this.vxe, y, o_dev_solid) == null) x += this.vxe;
	if(place_meeting(x, y+this.vye, o_dev_solid) == null) y += this.vye;
	this.vxe = 0;
	this.vye = 0;
	this.nogravity = false;

	// Horizontal movement
	if(keyx != 0) {
		game_started = true;
		this.sprite_dir = this.keyx;
		this.vx += this.accel * this.keyx;
		if(this.grounded) image_speed = 0.25;
	}
	else {
		if(grounded) this.vx = this.vx * this.friction;
		if(!grounded) this.vx = this.vx * this.airfriction;
		image_speed = 0;
		image_index = 0;
	}
}

// Additional check for stompable enemies, things are a bit messy for now, will make it better later
let stompable = place_meeting(x, y+vy, o_enemy_rat);
if(stompable == null) stompable = place_meeting(x, y+vy, o_enemy_ratheli);
if(stompable == null) stompable = place_meeting(x, y+vy, o_enemy_missile);
if(stompable == null) stompable = place_meeting(x, y+vy, o_enemy_rathuge);
if(stompable == null) stompable = place_meeting(x, y+vy, o_enemy_fish);
if(stompable == null) stompable = place_meeting(x, y+vy, o_enemy_fishjump);
if(stompable == null) stompable = place_meeting(x, y+vy, o_enemy_robot);
if(stompable == null) stompable = place_meeting(x, y+vy, o_enemy_bigbot);
if(stompable != null &amp;&amp; this.vy &gt; 0) {
	this.try_stomp(other);
}

// Get direction from speed
this.dirx = Math.sign(vx);
this.diry = Math.sign(vy);
if(this.dirx != 0) this.dirx_last = this.dirx;
if(this.diry != 0) this.diry_last = this.diry;

// - Collision detection -
// Vertical
if((place_meeting(x, y+this.vy, o_dev_solid) != null || place_meeting(x, y+this.vy, o_trampoline)) &amp;&amp; diry != 0) {
	this.mode.on_collision_v(this);
}

if(this.vy != 0 &amp;&amp; this.diry != 0 &amp;&amp; place_meeting(x, y+this.vy, o_dev_solid) != null) {
	while(place_meeting(x, y+this.vy, o_dev_solid) != null) {
		this.vy -= this.diry;
	}
	y += this.vy;
	this.vy = 0;
}

// Horizontal
if((place_meeting(x+this.vx, y, o_dev_solid) != null || place_meeting(x+this.vx, y, o_trampoline)) &amp;&amp; dirx != 0) {
	this.mode.on_collision_h(this);
}

if(place_meeting(x+this.keyx, y, o_dev_solid) != null || place_meeting(x+this.keyx, y, o_trampoline)) {
    this.vx = 0;
}

if(this.vx != 0 &amp;&amp; place_meeting(x+this.vx, y, o_dev_solid) != null &amp;&amp; dirx != 0) {
	while(place_meeting(x+this.vx, y, o_dev_solid) != null) {
		this.vx -= this.dirx;
	}
	x += this.vx;
	this.vx = 0;
}

// Check if the player's touching the ground
if(place_meeting(x, y+1, o_dev_solid) != null &amp;&amp; place_meeting(x, y+1, o_trampoline) == null) {
	this.grounded = true;
	this.jumpbrake_disabled = false;
} else {
	this.grounded = false;
}

// Collision with moving platforms
let platform;
if(vy &gt; 0.01) platform = place_meeting(x, y+this.vy+2, o_platform);
if(platform != null &amp;&amp; platform.y &gt; y) {
	this.mode.on_collision_v(this);
	y = platform.y - sprite_index.yoffset + platform.vy;
	this.vxe = platform.vx * 2; // GHETTO FIX LOL !!!!!!!!!!!!!!
	this.vye = platform.vy;
	this.vy = 0;
	this.grounded = true;
}

// Anti-stuck
if(place_meeting(x, y, o_dev_solid) == null) {
	this.xsafe = x;
	this.ysafe = y;
}
else {
	x = this.xsafe;
	y = this.ysafe;
}

// Trampoline interaction
let trmp = place_meeting(x, y+2, o_trampoline);
if(trmp == null) trmp = place_meeting(x, y-2, o_trampoline); 
if(trmp != null) {
	sound_c_play(snd_trampoline);
	this.vy = (-this.jumppower * trmp.jumpmult)*trmp.dir;
	this.jumpbrake_disabled = true;
	trmp.image_speed = 0.5;
}

// Conveyor belt interaction
if(place_meeting(x, y+2, o_conveyor_l)) {
	if(place_meeting(x-2, y, o_dev_solid) == null) this.vxe = -2;
}

if(place_meeting(x, y+2, o_conveyor_r)) {
	if(place_meeting(x+2, y, o_dev_solid) == null) this.vxe = 2;
}

// Dying conditions
if(place_meeting(x, y, o_dev_hazard) != null) { this.die(); }
if(place_meeting(x, y, o_enemy_cactus) != null) { this.die(); }
if(place_meeting(x, y, o_enemy_spikes) != null) { this.die(); }
if(place_meeting(x, y, o_enemy_crusher) != null) { this.die(); }
if(place_meeting(x, y, o_enemy_floatingspike) != null) { this.die(); }
if(place_meeting(x, y, o_enemy_shark) != null) { this.die(); }
if(place_meeting(x, y, o_enemy_bullet) != null) { this.die(); other.delete = true; }
if(y-sprite_index.height &gt; room_height) { this.die(); }
if(x+sprite_index.width &lt; room_viewport_x - player_death_margin) { this.die(); }



</script><script name="" object="" event="" parameter=""/><script name="scr_165" object="o_kot" event="Draw" parameter="">if(!this.dead) {
	draw_sprite_ext(player_character, image_index, ceil(x), ceil(y), this.sprite_dir, 1, 0, 1);
	if(this.decoration != null) {
		draw_sprite(this.decoration, this.decoration_frame, ceil(x), ceil(y));
	}
}

/*
if(debug) {
	draw_sprite_text(room_viewport_x+8, room_viewport_y+24, this.mode.name.toUpperCase() + " X: " + x.toFixed(2).toString() + " Y: " + y.toFixed(2).toString() + " J: " + this.jumpbuffer.toString() + " C: " + this.coyote.toString() + (this.jumpbrake_disabled ? " BD" : ""));
	//draw_sprite_text(ceil(x)-4, ceil(y)-16, this.distance_travelled.toString());
}
*/</script><script name="" object="" event="" parameter=""/><script name="scr_394" object="o_camera" event="Creation" parameter="">camera_object = this;

this.vx = camera_speed_start;
if(prefab_testing_speed != 0) this.vx = prefab_testing_speed;
this.tick = 0;
this.interval = camera_speedup_interval;
this.increment = camera_speedup_increment;
this.stage_two = false;

this.reset = function() {
	this.vx = 1;
	this.tick = 0;
	this.interval = camera_speedup_interval;
	this.increment = camera_speedup_increment;
}</script><script name="scr_399" object="o_camera" event="Step" parameter="">if(!game_started || game_paused) return;
if(game_expert &amp;&amp; this.vx == camera_speed_start)  this.vx = camera_speed_expert;

if(!player_object.dead) this.x += this.vx;
if(this.vx &gt;= camera_speedup_stage2trigger) this.stage_two = true;


if(this.tick &gt;= this.interval) {
	this.vx += camera_speedup_speed;
	this.tick = 0;
	this.interval += this.increment;
	this.increment += camera_speedup_increment;
	if(this.stage_two) this.increment += camera_speedup_stage2increment;
}

if(this.vx &gt; camera_speedup_maxspeed) this.vx = camera_speedup_maxspeed;

this.tick += 1 + (1 * game_expert);

if(x+2000 &gt; room_width) {
	room_width += 4000;
}

 //debug
 /*
if(debug) {
if(keyboard_check(vk_z)) {
	x -= this.vx*(camera_debug_speed*2);
}

if(keyboard_check(vk_x)) {
	x -= this.vx;
}

if(keyboard_check(vk_c)) {
	x += this.vx*camera_debug_speed;
}
}
*/</script><script name="" object="" event="" parameter=""/><script name="scr_404" object="o_hud" event="Draw" parameter="">this.zeros = 9;
this.score_str = this.score.toString()
this.hiscore_str = high_score.toString()

draw_set_alpha(1);

this.score_str = ((this.zeros-this.score_str.length &gt; 0) ? ("0".repeat(this.zeros-this.score_str.length)+this.score_str) : this.score_str);
this.hiscore_str = ((this.zeros-this.hiscore_str.length &gt; 0) ? ("0".repeat(this.zeros-this.hiscore_str.length)+this.hiscore_str) : this.hiscore_str);

draw_sprite_text(room_viewport_x + 8, room_viewport_y + 8 ,  score_str);

if(game_expert) draw_sprite_text(room_viewport_x + 88, room_viewport_y + 8,  "EX");

/*
if(debug) {
	draw_set_color(255, 255, 255);
	draw_sprite_text(room_viewport_x + 8, room_viewport_y + 138, "v. " + game_meta_version);
	draw_sprite_text(room_viewport_x + 8, room_viewport_y + 146, "by micai");
}
*/

if(game_paused) {
	draw_set_color(255, 255, 255);
	draw_rectangle(room_viewport_x + 136, room_viewport_y + 72, room_viewport_x + 184, room_viewport_y + 80, false);
	draw_sprite_text(room_viewport_x + 136, room_viewport_y + 72, "PAUSED");
}

if(player_object.dead) {
	draw_set_color(255, 255, 255);
	draw_rectangle(room_viewport_x + 120, room_viewport_y + 72, room_viewport_x + 192, room_viewport_y + 80, false);
	draw_sprite_text(room_viewport_x + 120, room_viewport_y + 72, "GAME OVER");
	if(last_score == high_score) {
		if(this.tick &lt; 15) draw_sprite_text(room_viewport_x + 216, room_viewport_y + 8 ,  "HI "+ hiscore_str);
	} else draw_sprite_text(room_viewport_x + 216, room_viewport_y + 8 ,  "HI "+ hiscore_str);
} else {
	draw_sprite_text(room_viewport_x + 216, room_viewport_y + 8 ,  "HI "+ hiscore_str);
}

</script><script name="scr_406" object="o_hud" event="Creation" parameter="">hud_object = this;
game_paused = false;

this.pausepressed = false;
this.chc = "";
this.score = 0;
this.score_add = 0;
this.tick = 0;
game_started = false;

instance_create(0, 0, o_debug_line);

this.reset_score = function() {
	this.score = 0;
	this.tick = 0;
}</script><script name="scr_407" object="o_hud" event="Step" parameter="">game_timer += 1;
if(!game_started) {
	if(keyboard_check_pressed(k_pause)) game_expert = !game_expert;
	return;
}
if(game_paused) {
	if(keyboard_check_pressed(k_pause)) game_paused = false;
} else {
	if(this.tick &gt;= 30) {
		this.tick = 0;
	}
	this.tick += 1;
	
	if(!player_object.dead) {
		//if(player_object.x &gt; player_object.distance_travelled) this.score += floor(abs(player_object.vx*0.3));
		
		
		if(keyboard_check_pressed(k_pause)) {
			game_paused = true;
			sound_c_play(snd_pause);
		}
	} else {
		if(input_released(k_jump, k_pause)) {
			room_goto_first();
		}
	}
}</script><script name="scr_409" object="o_kot" event="End step" parameter="">if(game_paused || this.dead) return;
this.mode.lateupdate(this);

if(x &gt; this.distance_travelled) { 
	hud_object.score += floor((x-this.distance_travelled) / 2);
	this.distance_travelled = floor(x);
}

// Dont let him go out of bounds
if(x+4 &gt; room_viewport_x+room_viewport_hborder) { vx = 0; x = xprevious }
if(y &lt; -10) y = -10;

/* debug shit delete later */
//if(y+11 &gt; room_height) { y = room_height-11; this.grounded = true }
/*
if(keyboard_check(vk_ctrl) &amp;&amp; debug) { x = camera_object.x; y = camera_object.y+43; vx = 0; vy = 0; }

if(keyboard_check_pressed(vk_v)) {
	instance_create(32, 32, o_bl_bigbrick);
	x = 20;
	y = 16;
	this.vx = 3;
	this.vy = 3;
	
}
*/</script><script name="scr_416" object="o_enemy_spikes" event="End step" parameter="">if(this.bound == false) this.tick += 1;
if(this.tick == 1) {
if(place_meeting(x, y+16, o_dev_solid)) image_index = 0;
else if(place_meeting(x, y-16, o_dev_solid)) image_index = 1;
//else if(place_meeting(x+16, y, o_dev_solid)) image_index = 2;
//else if(place_meeting(x-16, y, o_dev_solid)) image_index = 3;
this.bound = true;
}

if(x &lt; room_viewport_x-48) {
	instance_destroy();
}</script><script name="scr_439" object="o_camera" event="Draw" parameter="">/*
if(debug) {
	draw_sprite(sprite_index, image_index, ceil(x), y);
	draw_sprite_text(room_viewport_x+8, room_viewport_y+32, "CAM: " + this.tick.toString() + "/" + this.interval.toString() + "(+" + this.increment.toString() + ") " + this.vx.toFixed(2).toString() + "/" + camera_speedup_maxspeed.toString() + " " + x.toFixed(3).toString());
}
*/</script><script name="scr_447" object="o_hud" event="End step" parameter="">ccheck();
if(keyboard_check_pressed(vk_f2)) sound_enabled = !sound_enabled;

/*
if(keyboard_check_pressed(vk_f11)) debug = !debug;
if(keyboard_check_pressed(vk_1)) debug = !debug;
if(debug) {
	if(keyboard_check_pressed(vk_2)) if(room_background == null) { room_background = bg_dev_grid.image } else room_background = null;
	if(keyboard_check(vk_3)) if(game_timer % 3 == 0) tile_add(ts_cat_trail, 0, 0, 16, 22, ceil(player_object.x)-8, ceil(player_object.y)-11, 5);
	if(keyboard_check_pressed(vk_4)) debug_showsolids = !debug_showsolids;
	if(keyboard_check(vk_0)) room_goto(sc_init);
}
*/</script><script name="scr_452" object="o_autotile" event="End step" parameter="">image_speed = 0;
image_index = 0;

this.hor = 0;
this.ver = 0;

if(y == 0) instance_create(x, y-this.bls, object_index);
if(y == room_height-this.bls) instance_create(x, y+this.bls, object_index);

if(place_meeting(x+this.bls, y, object_index)){this.hor = 1}
if(place_meeting(x-this.bls, y, object_index))
{
    if(this.hor == 1){this.hor = 2}
    else{this.hor = 3}
}

if(place_meeting(x, y+this.bls, object_index)){this.ver = 1}
if(place_meeting(x, y-this.bls, object_index))
{
    if(this.ver == 1){this.ver = 2}
    else{this.ver = 3}
}

//if(prefab_autotile_connect) this.hor = 2;

image_index = 4*this.ver + this.hor;
tile_add(this.tileset, image_index*this.bls, 0, this.bls, this.bls, x, y, 1);
if(!(y + 16 &gt;= room_height &amp;&amp; image_index == 14)) {
	if(image_index != 10) {
		let s = instance_create(x, y, o_dev_solid);
		if(this.bls == 32) s.sprite_index = col_32x;
	}
}
instance_destroy();</script><script name="scr_816" object="o_bl_brick" event="End step" parameter="">let g = instance_create(x, y, o_autotile);
g.tileset = ts_brick;
instance_destroy();</script><script name="scr_1335" object="o_bl_cloud" event="End step" parameter="">let g = instance_create(x, y, o_autotile);
g.tileset = ts_cloud;
instance_destroy();</script><script name="scr_1701" object="o_kot" event="Collision" parameter="o_coin">other.instance_destroy();
sound_c_play(snd_coin);
hud_object.score += 50;</script><script name="scr_1703" object="o_coin" event="Creation" parameter="">image_speed = 0.25;</script><script name="scr_1734" object="o_enemy_rat" event="Draw" parameter="">draw_sprite_ext(sprite_index, image_index, ceil(x), ceil(y), 1*this.sprite_dir, 1, 0, 1);</script><script name="scr_1735" object="o_enemy_rat" event="Creation" parameter="">x += character_spawn_offset_x;
xstart += character_spawn_offset_x;
y += character_spawn_offset_y;
ystart += character_spawn_offset_y;

this.reward = 100;

this.vx = -0.5;
this.vy = 0;
this.sprite_dir = -1;
this.grounded = false;
this.dead = false;
this.dead_fade = 0;
this.dead_fade_max = 60;

this.vx_max = 2;
this.vy_max = 4;
this.gravity = 0.5;

this.image_speed_max = image_speed = 0.1;

this.die = function(how=0) {
	if(!this.dead) {
		this.dead = true;
		if(how == 1) {
			spawn_corpse(x, y, sprite_index, sprite_dir);
			instance_destroy();
			return;
		}
		sprite_index = s_enemy_rat_dead;
		this.vx = 0;
		this.dead_fade = 0;
	}
}</script><script name="scr_1736" object="o_enemy_rat" event="Step" parameter="">if(game_paused) return;
if(x &gt; room_viewport_x+room_viewport_width) return;
if( y + 16 &gt; room_height ) instance_destroy();
if(x &lt; room_viewport_x-despawn_margin) instance_destroy()

if(place_meeting(x-this.vx, y, o_dev_solid) != null || place_meeting(x+this.vx, y, o_dev_solid) != null) { this.vx = -this.vx; this.sprite_dir = -this.sprite_dir}
this.vy += this.gravity;
if(place_meeting(x, y+this.vy, o_dev_solid) != null) {
	this.vy = 0;
	image_speed = this.image_speed_max;
} else {
	image_speed = 0;
}


if(this.vx &gt; this.vx_max) this.vx = this.vx_max;
if(this.vx &lt; -this.vx_max) this.vx = -this.vx_max;

if(this.dead) {
	if(this.dead_fade &gt;= this.dead_fade_max) instance_destroy();
	this.dead_fade += 1;
}

// Trampoline interaction
let trmp = place_meeting(x, y+2, o_trampoline);
if(trmp == null) trmp = place_meeting(x, y-2, o_trampoline); 
if(trmp != null) {
	sound_c_play(snd_trampoline);
	this.vy = (-8)*trmp.dir;
	trmp.image_speed = 0.5;
}

x += this.vx;
y += this.vy;</script><script name="scr_1738" object="o_kot" event="Collision" parameter="o_enemy_rat">if(!other.dead &amp;&amp; !this.dead) {
	if(this.vy &gt; 0) {
		other.die();
		sound_c_play(snd_stomp);
		hud_object.score += other.reward;
		if(this.keyy == true) this.vy = -(this.jumppower * this.enemy_bounce_high);
		else this.vy = -(this.jumppower * this.enemy_bounce);
	} else {
		this.die();
	}
}</script><script name="scr_1757" object="o_enemy_rat" event="End step" parameter=""/><script name="scr_1760" object="o_world_generator" event="Creation" parameter="">world_generator_object = this;

this.tick = 0;
this.bigtick = 0;

prefab_len_total = 0;
prefab_len_last = 0;
this.next_prefab;
this.next_prefab_index = 0;
this.next_bank;
this.next_bank_index = 0;

if(prefab_testing == null) {
	prefab_deploy(0, 0, pr_spawnpoint, 3);
} else {
	prefab_deploy(0, 0, pr_spawnpoint_short, 4);
	if(prefab_testing_heli == true) prefab_deploy(prefab_len_total, 0, pr_heli1_s1, 4);
	else if(prefab_testing_water == true) prefab_deploy(prefab_len_total, 0, pr_water1_s0, 0);
	prefab_deploy(prefab_len_total, 0, prefab_testing, 4);
	if(prefab_testing_heli == true) prefab_deploy(prefab_len_total, 0, pr_heli1_e1, 4);
	else if(prefab_testing_water == true) prefab_deploy(prefab_len_total, 0, pr_water1_e1, 3);
}

this.start = null;
this.end = null;
this.rotation = [];
this.bank_rotation = [
	[],
	[],
	[],
	[]
];
this.last_rotation = 0;

this.current_name = "NULL";
this.current = 0;
this.limit = 0;
this.banksize = 0;
this.repeat = false;
this.min_gap = 1;
this.max_gap = 1;

this.add_bank = function(bank, rarity=0) {
	this.bank_rotation[rarity].push(bank);
	console.info("Added bank " + bank.name + " to rotation " + rarity.toString());
}

this.del_bank = function(bank, rarity=0) {
	this.bank_rotation[rarity].splice(this.bank_rotation[rarity].indexOf(bank), 1);
	console.info("Removed bank " + bank.name + " from rotation " + rarity.toString());
}

this.move_bank = function(bank, from=0, to=0) {
	this.bank_rotation[from].splice(this.bank_rotation[from].indexOf(bank), 1);
	this.bank_rotation[to].push(bank);
	console.info("Moved bank " + bank.name + " from rotation " + from.toString() + " to " + to.toString());
}

this.show_banks = function() {
	let rotnames = ["VERY COMMON: \n", "COMMON: \n", "RARE: \n", "VERY RARE: \n"];
	let st = "";
	for(let i=0; i&lt;4; i++) {
		st = st.concat(rotnames[i]);
		for(let j=0; j&lt;bank_rotation[i].length; j++) {
			st = st.concat(" - " + bank_rotation[i][j].name + "\n");
		}
		st = st.concat("\n");
	}
	console.log(st);
}

this.load_bank = function(bank) {
	this.current_name = bank.name;
	this.current = 0;
	this.limit = random_int(bank.length_min, bank.length_max);
	this.repeat = bank.repeat;
	this.rotation = bank.middle.slice();
	this.min_gap = bank.gap_min;
	this.max_gap = bank.gap_max;
	prefab_ceiling = bank.ceiling;
	if(game_expert) this.rotation = this.rotation.concat(bank.hard);
	if(Math.random() &lt; 0.5) this.rotation = this.rotation.concat(bank.rare);
	this.banksize = this.rotation.length;
	if(bank.start.length &gt; 0) this.start = bank.start[random_int(0, bank.start.length-1)];
	if(bank.end.length &gt; 0) this.end = bank.end[random_int(0, bank.end.length-1)];
	previous_bank = bank;
}

this.choose_bank = function() {
	this.skip = false;
	this.iterations = 0;
	this.random1 = 0;
	this.random2 = 0;
	this.sel = [];
	
	do {
		this.skip = false;
		this.random1 = Math.random();
		//console.log("r1: " + this.random1.toString());
		
		// Select one of the bank rotations
		if(this.random1 &gt; 0.92 &amp;&amp; this.bank_rotation[3].length != 0 &amp;&amp; this.last_rotation != 3) {
			console.log("attempt: " + iterations.toString() + "    r1: " + this.random1.toString() + " - very rare");
			this.sel = this.bank_rotation[3];
			this.last_rotation = 3;
		} else if(this.random1 &gt; 0.85 &amp;&amp; this.bank_rotation[2].length != 0 &amp;&amp; this.last_rotation != 2) {
			console.log("attempt: " + iterations.toString() + "    r1: " + this.random1.toString() + " - rare");
			this.sel = this.bank_rotation[2];
			this.last_rotation = 2;
		} else if(this.random1 &gt; 0.50 &amp;&amp; this.bank_rotation[1].length != 0 &amp;&amp; this.last_rotation != 1) {
			console.log("attempt: " + iterations.toString() + "    r1: " + this.random1.toString() + " - common");
			this.sel = this.bank_rotation[1];
			this.last_rotation = 1;
		} else {
			console.log("attempt: " + iterations.toString() + "    r1: " + this.random1.toString() + " - very common");
			this.sel = this.bank_rotation[0];
			this.last_rotation = 0;
		}
		
		//console.log(this.sel);
		
		// Choose a bank from the selected rotation
		this.next_bank_index = random_int(0, this.sel.length-1);
		this.next_bank = this.sel[this.next_bank_index];
		
		// Failsafes in case something goes wrong
		this.iterations += 1;
		if(this.next_bank == null) {
			this.skip = true;
			console.warn("failsafe triggered: next_bank is null");
		}
		
	} while(this.sel.length &gt; 1 &amp;&amp; this.iterations &lt; 20 &amp;&amp; (this.next_bank == previous_bank || this.skip));
	
	if(!(iterations &lt; 20)) {
		console.warn("failsafe triggered: exceeded iteration limit");
	}
	
	if(this.next_bank == null) {
		console.warn("failsafe triggered: next_bank still null after exiting the loop");
		this.next_bank = prefab_bank_first;
	}
	
	this.load_bank(this.next_bank);
}

this.add_bank(pbank_grass1, 0);
this.add_bank(pbank_wood1, 0);
this.add_bank(pbank_bridge1, 0);
this.add_bank(pbank_clouds1, 0);

if(prefab_bank_testing != null) {
	this.load_bank(prefab_bank_testing);
} else choose_bank();</script><script name="scr_1762" object="o_enemy_spikes" event="Creation" parameter="">this.tick = 0;
this.bound = false;
image_speed = 0;</script><script name="scr_1772" object="o_world_generator" event="Draw" parameter="">/*
if(debug) {
	draw_sprite_text(room_viewport_x+8, room_viewport_y+40, "PLX: " + (prefab_len_total*16).toString() + " PLT: " + prefab_len_total.toString() + " PLL: " + prefab_len_last.toString());
	draw_sprite_text(room_viewport_x+8, room_viewport_y+48, this.current_name.toUpperCase() + " " + ((this.start != null) ? "S " : "") + ((this.end != null) ? "E " : "") + this.current.toString() + "/" + this.limit.toString() + " " + this.next_prefab_index.toString() + "/" + this.rotation.length.toString() + " T: " + this.tick.toString() + "/" + this.bigtick.toString());
}
*/</script><script name="" object="" event="" parameter=""/><script name="scr_1778" object="o_world_generator" event="Step" parameter="">if(camera_object.x + 160 &gt; prefab_len_total*16) {
	// deploy starter prefab if exists
	if(this.start != null) { 
		marker(prefab_len_total*16, 0, "start");
		prefab_deploy(prefab_len_total, 0, this.start, random_int(this.min_gap, this.max_gap), prefab_ceiling);
		this.start = null;
		return;
	}
	
	// ending the current set and loading a new bank
	if(this.current &gt;= this.limit || this.limit == 0) {
		if(this.end != null) { 
			console.log("deploying end prefab");
			console.log(prefab_ceiling);
			marker(prefab_len_total*16, 0, "end");
			prefab_deploy(prefab_len_total, 0, this.end, random_int(2, 3));
			this.end = null;
		}
		//this.load_bank(prefab_banks[random_int(0, prefab_banks.length-1)]);
		this.choose_bank();
		return;
	}
	
	do {
		this.next_prefab_index = random_int(0, this.rotation.length-1);
		this.next_prefab = this.rotation[this.next_prefab_index];
	} while(this.rotation.length &gt; 1 &amp;&amp; this.next_prefab == previous_prefab);
	
	if(this.current == this.limit-1 &amp;&amp; this.end == null) prefab_ceiling = "";
	marker(prefab_len_total*16, 0, "mid" + this.current.toString());
	prefab_deploy(prefab_len_total, 0, this.next_prefab, random_int(this.min_gap, this.max_gap), prefab_ceiling);
	if(!this.repeat) this.rotation.splice(this.next_prefab_index, 1);
	this.current += 1;
}

/*
if(camera_object.x + 160 &gt; prefab_len_total*16) {
	do {
		this.next_prefab = prefab_list[Math.floor(Math.random()*prefab_list.length)];
	} while(this.next_prefab == previous_prefab);
	previous_prefab = this.next_prefab;
	prefab_deploy(prefab_len_total, 0, this.next_prefab, choose(2,3,4));
}
*/</script><script name="scr_1779" object="o_dev_solid" event="Step" parameter="">if(x &lt; room_viewport_x-48) instance_destroy();
</script><script name="scr_1832" object="o_dev_mainmenu" event="Draw" parameter="">draw_sprite_text(8, 8, "OSWALD Beta");
draw_sprite_text(8, 16, "by micai   ver. " + game_meta_version);

draw_sprite_text(8, 32, "Your last score: " + last_score.toString());
draw_sprite_text(8, 40, "Your high score: " + high_score.toString());

draw_sprite_text(8, 64, "Move with ARROW KEYS");
draw_sprite_text(8, 72, "Hold UP to jump higher");
draw_sprite_text(8, 88, "Press ENTER to start");</script><script name="scr_1835" object="o_dev_cat_demo" event="Creation" parameter="">image_speed = 0.1;</script><script name="scr_1836" object="o_dev_cat_demo" event="Step" parameter="">x += 1;
if(x &gt; room_width+16) { x = -16 };
sprite_index = player_character;</script><script name="scr_1887" object="o_dev_mainmenu" event="Step" parameter="">if(keyboard_check_pressed(vk_enter)) {
	room_goto_next();
}

ccheck();</script><script name="" object="" event="" parameter=""/><script name="scr_1888" object="o_coin" event="Step" parameter="">if(x &lt; room_viewport_x-48) {
	instance_destroy();
}</script><script name="scr_1951" object="o_enemy_rat" event="Collision" parameter="o_enemy_spikes">this.die(1);</script><script name="scr_816" object="o_bl_woodenblock" event="End step" parameter="">tile_add(ts_woodenblock, 0, 0, 16, 16, x, y, 1);

instance_create(x, y, o_dev_solid);
if(y == 0) instance_create(x, y-16, object_index);
if(y == room_height-16) instance_create(x, y+16, object_index);

instance_destroy();</script><script name="" object="" event="" parameter=""/><script name="scr_816" object="o_bl_cave" event="End step" parameter="">let g = instance_create(x, y, o_autotile);
g.tileset = ts_cave;
instance_destroy();</script><script name="scr_1961" object="o_trampoline" event="Creation" parameter="">image_speed = 0;
this.dir = 0;
this.yoffset = 0;
this.jumpmult = 1.6;
this.tick = 0;
instance_create(x, y, o_dev_solid);</script><script name="scr_1962" object="o_trampoline" event="Animation end" parameter="">image_index = 0;
image_speed = 0;</script><script name="" object="" event="" parameter=""/><script name="scr_1965" object="o_trampoline" event="End step" parameter="">if(this.dir == 0) this.tick += 1;
if(x &lt; room_viewport_x-48) instance_destroy();
if(this.tick == 1) {
	if(place_meeting(x, y-16, o_dev_solid) != null) {
		this.dir = -1;
		this.yoffset = 16;
	} else { 
		this.dir = 1; 
	}
}</script><script name="scr_1981" object="o_corpse" event="Creation" parameter=""/><script name="scr_1982" object="o_corpse" event="Step" parameter="">y += this.vy;
if(this.vy &lt; -1) this.vy *= 0.8;
else this.vy += 0.5;
if(y &gt; room_width + 16) instance_destroy();</script><script name="scr_1983" object="o_corpse" event="Draw" parameter="">draw_sprite_ext(sprite_index, 0, ceil(x), ceil(y), this.sprite_dir, -1, 0, 1);</script><script name="scr_1998" object="o_mobile_buttons" event="Creation" parameter="">this.mobc_u_x = 256;
this.mobc_u_y = 96;

this.mobc_l_x = 16;
this.mobc_l_y = 96;

this.mobc_r_x = 80;
this.mobc_r_y = 96;

this.mobc_p_x = 256;
this.mobc_p_y = 8;

/*
vkey_add(this.mobc_u_x, this.mobc_u_y, this.mobc_u_x+48, this.mobc_u_y+48, k_jump);
vkey_add(this.mobc_l_x, this.mobc_l_y, this.mobc_l_x+48, this.mobc_l_y+48, k_left);
vkey_add(this.mobc_r_x, this.mobc_r_y, this.mobc_r_x+48, this.mobc_r_y+48, k_right);
*/

vkey_add(this.mobc_u_x, this.mobc_u_y, 48, 48, k_jump);

vkey_add(this.mobc_l_x, this.mobc_l_y, 48, 48, k_left);
vkey_add(this.mobc_r_x, this.mobc_r_y, 48, 48, k_right);

vkey_add(this.mobc_p_x, this.mobc_p_y, 48, 48, k_pause);</script><script name="scr_1999" object="o_mobile_buttons" event="Draw" parameter="">if(mobile_controls_enabled) {
	draw_set_alpha(0.25);
	draw_sprite(s_mobc_l, 0, room_viewport_x+mobc_l_x, room_viewport_y+mobc_l_y);
	draw_sprite(s_mobc_r, 0,room_viewport_x+ mobc_r_x, room_viewport_y+mobc_r_y);
	draw_sprite(s_mobc_u, 0, room_viewport_x+mobc_u_x, room_viewport_y+mobc_u_y);
	draw_sprite(s_mobc_p, 0, room_viewport_x+mobc_p_x, room_viewport_y+mobc_p_y);
	draw_sprite_text(room_viewport_x+mouse_x-4, room_viewport_y+mouse_y-4, "+");
	draw_set_alpha(1);
}</script><script name="" object="" event="" parameter=""/><script name="" object="" event="" parameter=""/><script name="scr_2137" object="o_debug_line" event="Step" parameter="">visible = debug;
if(room_viewport_x - despawn_margin &gt; x) x = ceil(room_viewport_x - despawn_margin);</script><script name="" object="" event="" parameter=""/><script name="" object="" event="" parameter=""/><script name="scr_2143" object="o_trampoline" event="Draw" parameter="">draw_sprite_ext(sprite_index, image_index, x, y+this.yoffset, 1, this.dir, 0, 1);</script><script name="" object="" event="" parameter=""/><script name="" object="" event="" parameter=""/><script name="scr_2150" object="o_sign_noheli" event="Creation" parameter="">this.activated = false;
</script><script name="scr_2151" object="o_sign_noheli" event="Step" parameter="">if(!this.activated) {
	if(player_object.x &gt; x+32 &amp;&amp; player_object.mode.name == "heli") {
		player_object.m_foot.activate(player_object);
		this.activated = true;
	}
}

if(x &lt; room_viewport_x-48) {
	instance_destroy();
}</script><script name="scr_2154" object="o_veh_heli" event="Creation" parameter="">y -= 4;

image_speed = 0.2;
this.yoffset = 0;
this.yoffset_dir = 1;</script><script name="scr_2155" object="o_veh_heli" event="Step" parameter="">if(this.yoffset &gt; 1) { this.yoffset_dir = -1 };
if(this.yoffset &lt; -3) { this.yoffset_dir = 1 };
if(game_timer % 10 == 0) this.yoffset += this.yoffset_dir;

if(x &lt; room_viewport_x-48) {
	instance_destroy();
}</script><script name="scr_2157" object="o_kot" event="Collision" parameter="o_veh_heli">other.instance_destroy();
this.m_heli.activate(this);</script><script name="scr_2159" object="o_enemy_ratheli" event="Step" parameter="">if(game_paused) return;
if(x-8 &gt; room_viewport_x+room_viewport_width) return;
if(x &lt; room_viewport_x-despawn_margin) instance_destroy()

let svx = sign(this.vx);
if(svx != 0) this.sprite_dir = svx;

if(this.vy &gt; this.vy_max) { this.vy_dir = -this.vy_dir_max };
if(this.vy &lt; -this.vy_max) { this.vy_dir = this.vy_dir_max };
if(game_timer % 10 == 0) this.vy += this.vy_dir;

if(place_meeting(x, y+this.vy, o_dev_solid) || y &lt; 8 || y &gt; room_height - 8) {
	this.vy_dir = -this.vy_dir;
	this.vy = -this.vy;
}

if(place_meeting(x+this.vx, y, o_dev_solid)) {
	this.vx = -this.vx;
}

x += this.vx;
y += this.vy;</script><script name="scr_2160" object="o_enemy_ratheli" event="Draw" parameter="">draw_sprite_ext(sprite_index, image_index, ceil(x), ceil(y), 1*this.sprite_dir, 1, 0, 1);
//draw_sprite_ext(sprite_index, 1, ceil(x), ceil(y), 1*this.sprite_dir, 1, 0, 1);
//draw_sprite_ext(s_heli, image_index, ceil(x), ceil(y+1), 1*this.sprite_dir, 1, 0, 1);
</script><script name="scr_2162" object="o_enemy_ratheli" event="Creation" parameter="">image_speed = 0.25;

x += character_spawn_offset_x;
xstart += character_spawn_offset_x;
y += character_spawn_offset_y;
ystart += character_spawn_offset_y;

this.reward = 200;

this.vx = -1;
this.vy = 0;
this.vy_dir = 1;
this.vy_max = 0.75;
this.vy_dir_max = 0.05;

this.sprite_dir = -1;
this.grounded = false;
this.dead = false;
this.dead_fade = 0;
this.dead_fade_max = 60;

this.die = function() {
	this.dead = true;
	spawn_corpse(x, y, sprite_index, sprite_dir, 0, 2);
	spawn_corpse(x, y, s_heli, sprite_dir, 0, 2);
	instance_destroy();
}</script><script name="scr_2164" object="o_veh_heli" event="Draw" parameter="">draw_sprite(sprite_index, image_index, ceil(x), ceil(y+this.yoffset));</script><script name="scr_2171" object="o_kot" event="Collision" parameter="o_enemy_ratheli">if(!this.dead &amp;&amp; !other.dead) {
	if(this.mode == this.m_foot) {
		if(this.vy &gt; -1) {
			other.die();
			sound_c_play(snd_stomp);
			hud_object.score += other.reward;
			if(this.keyy == true) this.vy = -(this.jumppower * this.enemy_bounce_high);
			else this.vy = -(this.jumppower * this.enemy_bounce);
		} else {
			this.die();
		}
	} else {
		
		if(this.y+6 &lt; other.y) {
			other.die();
			sound_c_play(snd_stomp);
			hud_object.score += other.reward;
			this.vy = -this.jumppower;
		} else this.die();
	}
}</script><script name="scr_2174" object="o_dev_solid" event="Draw" parameter="">if(debug_showsolids) draw_sprite(s_dev_fill50, 0, x, y);</script><script name="scr_416" object="o_enemy_cactus" event="End step" parameter="">if(!this.bound) {
if(!place_meeting(x, y-16, o_enemy_cactus)) image_index = 1;
this.bound = true;
}

if(x &lt; room_viewport_x-48) {
	instance_destroy();
}</script><script name="scr_1762" object="o_enemy_cactus" event="Creation" parameter="">this.bound = false;
image_speed = 0;</script><script name="" object="" event="" parameter=""/><script name="scr_2181" object="o_bl_sand" event="End step" parameter="">let g = instance_create(x, y, o_autotile);
g.tileset = ts_sand;
instance_destroy();</script><script name="" object="" event="" parameter=""/><script name="scr_2182" object="o_enemy_rat" event="Collision" parameter="o_enemy_cactus">this.die(1);</script><script name="scr_2185" object="o_debug_marker" event="Creation" parameter="">this.text = "";</script><script name="scr_2186" object="o_debug_marker" event="Draw" parameter="">if(debug) {
	draw_set_color(255, 255, 255);
	draw_rectangle(x, 152, x+this.text.length*8, 160, false);
	draw_sprite_text(x, 152, this.text);
	draw_sprite(s_debug_line, 0, x, y);
}</script><script name="scr_816" object="o_bl_tree" event="End step" parameter="">let g = instance_create(x, y, o_autotile);
g.tileset = ts_tree;
instance_destroy();</script><script name="scr_2190" object="o_enemy_ratheli" event="Collision" parameter="o_dev_solid">if(place_meeting(x+vx, y-vy, o_dev_solid)) {
	this.vx = -this.vx;
}</script><script name="scr_2193" object="o_enemy_crusher" event="End step" parameter="">if(game_paused) return;
if(x &lt; room_viewport_x-despawn_margin) instance_destroy()

if(this.mode == -1) {
	this.tick += 1;
	if(this.tick &gt;= 5) {
		this.tick = 0;
		if(y &gt; 16) { 
			this.mode = 1;
		} else this.mode = 3;
	}
}

if(this.mode == 0) {
	this.vy = this.crushspeed;
	this.tick = 0;
	if(place_meeting(x, y+this.vy, o_dev_solid) || place_meeting(x, y+this.vy, o_platform_reverse) || y+this.vy &gt;= room_height-16) {
		this.mode = 1;
		if(x &lt; room_viewport_x+room_viewport_width) sound_c_play(snd_thump);
	}
}
if(this.mode == 1) {
	this.vy = 0;
	this.tick += 1;
	if(this.tick &gt;= this.waittime) {
		this.mode = 2;
	}
}
if(this.mode == 2) {
	this.vy = -this.crushspeed;
	this.tick = 0;
	if(y &lt;= 16) {
		this.mode = 3;
	}
}
if(this.mode == 3) {
	this.vy = 0;
	this.tick += 1;
	if(this.tick &gt;= this.waittime) {
		this.mode = 0;
	}
}

x += this.vx;
y += this.vy;</script><script name="scr_2195" object="o_enemy_crusher" event="Creation" parameter="">
// -1 init, 0 - falling, 1 - waiting down, 2 - rising, 3 - waiting up
this.mode = -1;
this.tick = 0;
this.waittime = 20;
this.crushspeed = 4;

this.vx = 0;
this.vy = 0;</script><script name="scr_2199" object="o_enemy_rat" event="Collision" parameter="o_enemy_crusher">this.die();</script><script name="" object="" event="" parameter=""/><script name="" object="" event="" parameter=""/><script name="scr_816" object="o_bl_panel" event="End step" parameter="">let g = instance_create(x, y, o_autotile);
g.tileset = ts_panel;
instance_destroy();</script><script name="scr_816" object="o_bl_wood" event="End step" parameter="">let g = instance_create(x, y, o_autotile);
g.tileset = ts_wood;
instance_destroy();</script><script name="scr_2207" object="o_enemy_missile" event="Creation" parameter="">x += 8;
xstart += 8;
y += 8;
ystart += 8;

this.reward = 300;

this.fired = false;
this.dead = false;
this.vx = -3;
this.sprite_dir = -1;

this.die = function() {
	spawn_corpse(x, y, sprite_index, sprite_dir);
	instance_destroy();
}</script><script name="scr_2208" object="o_enemy_missile" event="Draw" parameter="">draw_sprite_ext(sprite_index, image_index, x, y, this.sprite_dir, 1, 0, 1);</script><script name="scr_2209" object="o_enemy_missile" event="Collision" parameter="o_dev_solid">this.die();</script><script name="scr_2210" object="o_enemy_missile" event="Step" parameter="">if(game_paused) return;
if(x &gt; room_viewport_x+room_viewport_width) return;
if( y + 16 &gt; room_height ) instance_destroy();
if(x &lt; room_viewport_x-despawn_margin) instance_destroy()
if(!fired) {
	fired = true;
	sound_c_play(snd_missile);
}
x += this.vx;</script><script name="scr_2211" object="o_kot" event="Collision" parameter="o_enemy_missile">if(!this.dead &amp;&amp; !other.dead) {
	if(this.mode == this.m_foot) {
		if(this.vy &gt; 0) {
			other.die();
			sound_c_play(snd_stomp);
			hud_object.score += other.reward;
			if(this.keyy == true) this.vy = -(this.jumppower * this.enemy_bounce_high);
			else this.vy = -(this.jumppower * this.enemy_bounce);
		} else this.die();
	} else {
		if(this.y+6 &lt; other.y) {
			other.die();
			sound_c_play(snd_stomp);
			hud_object.score += other.reward;
			this.vy = -this.jumppower;
		} else this.die();
	}
}</script><script name="scr_2213" object="o_debug_line" event="Creation" parameter="">x -= 1;</script><script name="scr_816" object="o_bl_bigbrick" event="End step" parameter="">let g = instance_create(x, y, o_autotile);
g.tileset = ts_bigbrick;
instance_destroy();</script><script name="scr_2215" object="o_world_generator" event="End step" parameter="">// ADDING AND REMOVING BANKS BASED ON TIME ELAPSED
if(!game_started || game_paused) return;
this.tick += 1;

if(this.tick &gt; 300) {
	this.tick = 0;
	this.bigtick += 1;
	
	switch(bigtick) {
		case 1:
			this.add_bank(pbank_castle1, 0);
			this.add_bank(pbank_heli1, 1);
			break;
		
		case 2:
			this.add_bank(pbank_desert1, 0);
			this.add_bank(pbank_ground1, 0);
			this.add_bank(pbank_factory1, 0);
			this.add_bank(pbank_water1, 1);
			this.move_bank(pbank_castle1, 0, 1);
			break;
			
		case 3:
			this.add_bank(pbank_panel1, 2);
			this.add_bank(pbank_cave1, 0);
			this.move_bank(pbank_grass1, 0, 1);
			this.move_bank(pbank_castle1, 1, 2);
			break;
		
		case 4:
			this.add_bank(pbank_egg1, 3);
			break;
			
		case 5:
			break;
	}
	
	this.show_banks();
}
</script><script name="scr_2219" object="o_platform" event="Creation" parameter="">// no touchy
this.isfalling = false;

// properties
this.vx = 0;
this.vy = 0;
this.static = true;
this.wrap = true;
this.bounce = true;
this.fall = false;
this.fallspeed = 2;</script><script name="scr_2223" object="o_platform" event="Step" parameter="">if(x+sprite_index.width+64 &lt; room_viewport_x) instance_destroy();

if(!game_paused &amp;&amp; !static) {
	if(place_meeting(x+this.vx, y, o_dev_solid) || place_meeting(x+this.vx, y, o_platform_reverse)) {
		if(this.bounce == true) this.vx = -this.vx;
		else this.vx = 0;
	}
	if(place_meeting(x, y+this.vy, o_dev_solid) || place_meeting(x+this.vx, y, o_platform_reverse)) {
		if(this.bounce == true) this.vy = -this.vy;
		else this.vy = 0;
	};

	x += this.vx;
	y += this.vy;
	
	if(this.wrap) {
		if(y&gt;room_height) y = -8;
		if(y&lt;-8) y = room_height;
	} else {
		if(y&gt;room_height) instance_destroy();	
	}
	
	if(this.fall) {
		if(place_meeting(x, y-2, player_object)) {
			if(player_object.vy &gt;= 0) this.vy = this.fallspeed;
		}
	}
}</script><script name="scr_2226" object="o_platform_move_r" event="End step" parameter="">let platform = instance_create(x, y, o_platform);
platform.vy = 0;
platform.vx = 1;
platform.static = false;
instance_destroy();</script><script name="scr_2239" object="o_platform_move_d" event="End step" parameter="">let platform = instance_create(x, y, o_platform);
platform.vy = 1;
platform.vx = 0;
platform.static = false;
instance_destroy();</script><script name="scr_2226" object="o_platform_move_l" event="End step" parameter="">let platform = instance_create(x, y, o_platform);
platform.vy = 0;
platform.vx = -1;
platform.static = false;
instance_destroy();</script><script name="scr_2239" object="o_platform_move_u" event="End step" parameter="">let platform = instance_create(x, y, o_platform);
platform.vy = -1;
platform.vx = 0;
platform.static = false;
instance_destroy();</script><script name="scr_2239" object="o_platform_fall" event="End step" parameter="">let platform = instance_create(x, y, o_platform);
platform.vy = 0;
platform.vx = 0;
platform.static = false;
platform.fall = true;
platform.wrap = false;
platform.bounce = false;
instance_destroy();</script><script name="scr_2253" object="o_bl_huge" event="End step" parameter="">let g = instance_create(x, y, o_autotile);
g.tileset = ts_huge;
g.bls = 32;
instance_destroy();</script><script name="" object="" event="" parameter=""/><script name="scr_2253" object="o_bl_woodenhuge" event="End step" parameter="">tile_add(ts_woodenhuge, 0, 0, 32, 32, x, y, 1);

let sol = instance_create(x, y, o_dev_solid);
sol.sprite_index = col_32x;
if(y == 0) instance_create(x, y-32, object_index);
if(y == room_height-16) instance_create(x, y+32, object_index);

instance_destroy();</script><script name="scr_1734" object="o_enemy_rathuge" event="Draw" parameter="">draw_sprite_ext(sprite_index, image_index, ceil(x), ceil(y), 1*this.sprite_dir, 1, 0, 1);</script><script name="scr_1735" object="o_enemy_rathuge" event="Creation" parameter="">x += character_spawn_offset_x*2;
xstart += character_spawn_offset_x*2;
y += character_spawn_offset_y*2;
ystart += character_spawn_offset_y*2;

this.reward = 200;

this.vx = -0.5;
this.vy = 0;
this.sprite_dir = -1;
this.grounded = false;
this.dead = false;
this.dead_fade = 0;
this.dead_fade_max = 60;

this.vx_max = 2;
this.vy_max = 4;
this.gravity = 0.5;

this.image_speed_max = image_speed = 0.1;

this.die = function(how=0) {
	if(!this.dead) {
		this.dead = true;
		if(how == 1) {
			spawn_corpse(x, y, sprite_index, sprite_dir);
			instance_destroy();
			return;
		}
		sprite_index = s_enemy_rathuge_dead;
		this.vx = 0;
		this.dead_fade = 0;
	}
}</script><script name="scr_1736" object="o_enemy_rathuge" event="Step" parameter="">if(game_paused) return;
if(x &gt; room_viewport_x+room_viewport_width) return;
if( y + 16 &gt; room_height ) instance_destroy();
if(x &lt; room_viewport_x-64) instance_destroy();

if(place_meeting(x-this.vx, y, o_dev_solid) != null || place_meeting(x+this.vx, y, o_dev_solid) != null) { this.vx = -this.vx; this.sprite_dir = -this.sprite_dir}
this.vy += this.gravity;
if(place_meeting(x, y+this.vy, o_dev_solid) != null) {
	this.vy = 0;
	image_speed = this.image_speed_max;
} else {
	image_speed = 0;
}


if(this.vx &gt; this.vx_max) this.vx = this.vx_max;
if(this.vx &lt; -this.vx_max) this.vx = -this.vx_max;

if(this.dead) {
	if(this.dead_fade &gt;= this.dead_fade_max) instance_destroy();
	this.dead_fade += 1;
}

// Trampoline interaction
let trmp = place_meeting(x, y+2, o_trampoline);
if(trmp == null) trmp = place_meeting(x, y-2, o_trampoline); 
if(trmp != null) {
	sound_c_play(snd_trampoline);
	this.vy = (-8)*trmp.dir;
	trmp.image_speed = 0.5;
}

x += this.vx;
y += this.vy;</script><script name="scr_1757" object="o_enemy_rathuge" event="End step" parameter=""/><script name="scr_1951" object="o_enemy_rathuge" event="Collision" parameter="o_enemy_spikes">this.die(1);</script><script name="scr_2182" object="o_enemy_rathuge" event="Collision" parameter="o_enemy_cactus">this.die(1);</script><script name="scr_2199" object="o_enemy_rathuge" event="Collision" parameter="o_enemy_crusher">this.die();</script><script name="scr_2255" object="o_kot" event="Collision" parameter="o_enemy_rathuge">if(!other.dead &amp;&amp; !this.dead) {
	if(this.vy &gt; 0 &amp;&amp; this.y &gt; other.y+8) {
		other.die();
		sound_c_play(snd_stomp);
		hud_object.score += other.reward;
		if(this.keyy == true) this.vy = -(this.jumppower * this.enemy_bounce_high);
		else this.vy = -(this.jumppower * this.enemy_bounce);
	} else {
		this.die();
	}
}</script><script name="scr_2239" object="o_platform_lift" event="End step" parameter="">let platform = instance_create(x, y, o_platform);
platform.vy = 0;
platform.vx = 0;
platform.static = false;
platform.fall = true;
platform.wrap = false;
platform.bounce = false;
platform.fallspeed = -2;
instance_destroy();</script><script name="" object="" event="" parameter=""/><script name="scr_2258" object="o_debug_marker" event="Step" parameter="">if(x &lt; room_viewport_x-64) instance_destroy()</script><script name="scr_2265" object="o_bl_groundalt" event="End step" parameter="">let g = instance_create(x, y, o_autotile);
g.tileset = ts_groundalt;
instance_destroy();</script><script name="scr_2267" object="o_bl_metal" event="End step" parameter="">let g = instance_create(x, y, o_autotile);
g.tileset = ts_metal;
instance_destroy();</script><script name="scr_2270" object="o_conveyor_l" event="End step" parameter="">if(x &lt; room_viewport_x-64) instance_destroy();
if(!this.bound) {
	if(place_meeting(x-16, y, o_conveyor_l) != null) {
		if(place_meeting(x+16, y, o_conveyor_l) != null) {
			sprite_index = s_conveyor_m;
		} else sprite_index = s_conveyor_r;
	} else sprite_index = s_conveyor_l;
	this.bound = true;
}</script><script name="scr_2271" object="o_conveyor_l" event="Creation" parameter="">this.bound = false;
image_speed = 0.1;
instance_create(x, y, o_dev_solid);</script><script name="scr_2272" object="o_conveyor_r" event="Creation" parameter="">this.bound = false;
image_speed = 0.1;
instance_create(x, y, o_dev_solid);</script><script name="scr_2273" object="o_conveyor_r" event="End step" parameter="">if(x &lt; room_viewport_x-64) instance_destroy();
if(this.bound) return;
if(place_meeting(x-16, y, o_conveyor_r)) {
	if(place_meeting(x+16, y, o_conveyor_r)) {
		sprite_index = s_conveyor_m;
	} else sprite_index = s_conveyor_r;
} else sprite_index = s_conveyor_l;
this.bound = true;</script><script name="scr_2274" object="o_conveyor_l" event="Draw" parameter="">draw_sprite_ext(sprite_index, image_index, x, y+16, 1, -1, 0, 1);</script><script name="scr_2324" object="o_gamepad_test" event="Draw" parameter=""/><script name="scr_2325" object="o_gamepad_test" event="Creation" parameter=""/><script name="scr_2327" object="o_gamepad_test" event="Step" parameter=""/><script name="scr_2267" object="o_bl_pipe" event="End step" parameter="">image_speed = 0;
image_index = 0;

this.hor = 0;
this.ver = 0;
this.bls = 16;
this.tileset = ts_pipe;

if(y == 0) instance_create(x, y-this.bls, object_index);
if(y == room_height-this.bls) instance_create(x, y+this.bls, object_index);

if(place_meeting(x+this.bls, y, object_index)){this.hor = 1}
if(place_meeting(x-this.bls, y, object_index))
{
    if(this.hor == 1){this.hor = 2}
    else{this.hor = 3}
}

if(place_meeting(x, y+this.bls, object_index)){this.ver = 1}
if(place_meeting(x, y-this.bls, object_index))
{
    if(this.ver == 1){this.ver = 2}
    else{this.ver = 3}
}

//if(prefab_autotile_connect) this.hor = 2;

image_index = 4*this.ver + this.hor;
tile_add(this.tileset, image_index*this.bls, 0, this.bls, this.bls, x, y, 1);
if(!(y + 16 &gt;= room_height &amp;&amp; image_index == 14)) {
	if(image_index != 10) {
		let s = instance_create(x, y, o_dev_solid);
	}
}
instance_destroy();</script><script name="scr_2352" object="o_enemy_ratheli_stay" event="Step" parameter="">let newrat = instance_create(x, y, o_enemy_ratheli);
newrat.vx = 0;
newrat.vy_max = 0.05;
newrat.vy_dir = 0.01;
instance_destroy();</script><script name="scr_2356" object="o_water" event="Creation" parameter="">image_speed  = 0.1;
instance_create(x, y-16, o_water_disable);</script><script name="scr_2359" object="o_kot" event="Collision" parameter="o_water">if(this.mode == this.m_foot) {
	if(this.vy &gt; 0.5) {
		this.m_swim.activate(this);
		this.vy += 1;
		for(let i=0; i&lt;=20; i += 2) {
			setTimeout(function(me) {
				instance_create(me.x+random_int(-8, 8), me.y+16+random_int(-3, 3), o_deco_bubble);
			}, i*10, this);
		}
	}
}</script><script name="scr_2361" object="o_kot" event="Collision" parameter="o_water_disable">if(this.mode == this.m_swim &amp;&amp; this.vy &lt; 1) {
	this.m_foot.activate(this);
	if(this.keyy == true) this.vy = -this.jumppower;
	else this.vy = -this.jumppower * this.enemy_bounce;
}</script><script name="scr_2362" object="o_water_disable" event="Step" parameter="">if(x &lt; room_viewport_x-48) instance_destroy();</script><script name="scr_2363" object="o_water" event="Step" parameter="">if(x &lt; room_viewport_x-48) instance_destroy();</script><script name="scr_2159" object="o_enemy_fish" event="Step" parameter="">if(game_paused) return;
if(x-8 &gt; room_viewport_x+room_viewport_width) return;
if(x &lt; room_viewport_x-despawn_margin) instance_destroy()

let svx = sign(this.vx);
if(svx != 0) this.sprite_dir = svx;

if(this.vy &gt; this.vy_max) { this.vy_dir = -this.vy_dir_max };
if(this.vy &lt; -this.vy_max) { this.vy_dir = this.vy_dir_max };
if(game_timer % 10 == 0) this.vy += this.vy_dir;

if(place_meeting(x, y+this.vy, o_dev_solid) || y &lt; 8 || y &gt; room_height - 8) {
	this.vy_dir = -this.vy_dir;
	this.vy = -this.vy;
}

if(place_meeting(x+this.vx, y, o_dev_solid)) {
	this.vx = -this.vx;
}

x += this.vx;
y += this.vy;</script><script name="scr_2160" object="o_enemy_fish" event="Draw" parameter="">draw_sprite_ext(sprite_index, image_index, ceil(x), ceil(y), 1*this.sprite_dir, 1, 0, 1);
//draw_sprite_ext(sprite_index, 1, ceil(x), ceil(y), 1*this.sprite_dir, 1, 0, 1);
//draw_sprite_ext(s_heli, image_index, ceil(x), ceil(y+1), 1*this.sprite_dir, 1, 0, 1);
</script><script name="scr_2162" object="o_enemy_fish" event="Creation" parameter="">image_speed = 0.1;

x += 4;
xstart += 4;
y += 4;
ystart += 4;

this.reward = 100;
this.vx = -0.75;
this.vy = 0;
this.vy_dir = 0.35;
this.vy_max = 0.35;
this.vy_dir_max = 0.05;

this.sprite_dir = -1;
this.grounded = false;
this.dead = false;
this.dead_fade = 0;
this.dead_fade_max = 60;

this.die = function() {
	this.dead = true;
	spawn_corpse(x, y, sprite_index, sprite_dir, 0, 2);
	instance_destroy();
}</script><script name="scr_2190" object="o_enemy_fish" event="Collision" parameter="o_dev_solid">if(place_meeting(x+vx, y-vy, o_dev_solid)) {
	this.vx = -this.vx;
}</script><script name="scr_2365" object="o_kot" event="Collision" parameter="o_enemy_fish">if(!this.dead &amp;&amp; !other.dead) {
	if(this.mode == this.m_foot) {
		if(this.vy &gt; -1) {
			other.die();
			sound_c_play(snd_stomp);
			hud_object.score += other.reward;
			if(this.keyy == true) this.vy = -(this.jumppower * this.enemy_bounce_high);
			else this.vy = -(this.jumppower * this.enemy_bounce);
		} else {
			this.die();
		}
	} else {
		
		if(this.y+6 &lt; other.y) {
			other.die();
			sound_c_play(snd_stomp);
			hud_object.score += other.reward;
			this.vy = -this.jumppower;
		} else this.die();
	}
}</script><script name="scr_2368" object="o_deco_bubble" event="Creation" parameter="">this.tick = 0;
this.tick_limit = random_int(30, 60);</script><script name="scr_2369" object="o_deco_bubble" event="Step" parameter="">y -= 1.5;
this.tick += 1;
if(this.tick &gt;= this.tick_limit) instance_destroy();
if(place_meeting(x,y,o_dev_solid)) instance_destroy();
//if(place_meeting(x,y,o_water)) instance_destroy();
if(place_meeting(x,y,o_water_disable)) instance_destroy();</script><script name="scr_2371" object="o_watercurrent" event="Creation" parameter="">this.hforce = 0;
this.vforce = 0;

this.bub1y = random_int(0,4); this.bub1x = random_int(0,14);
this.bub2y = random_int(0,4); this.bub2x = random_int(0,14);
this.bub3y = random_int(0,4); this.bub3x = random_int(0,14);</script><script name="scr_2372" object="o_watercurrent" event="Draw" parameter="">if(game_paused) return;
if(x-8 &gt; room_viewport_x+room_viewport_width) return;
if(x &lt; room_viewport_x-despawn_margin) instance_destroy()

if(this.bub1x &gt; 14) { this.bub1x = random_int(0,4); this.bub1y = random_int(0,14); }
if(this.bub1x &lt; 0) { this.bub1x = random_int(0,14); this.bub1y = random_int(0,14); }
if(this.bub2x &gt; 14) { this.bub2x = random_int(0,4); this.bub2y = random_int(0,14); }
if(this.bub2x &lt; 0) { this.bub2x = random_int(0,14); this.bub2y = random_int(0,14); }

if(this.bub1y &gt; 14) { this.bub1y = random_int(0,4); this.bub1x = random_int(0,14); }
if(this.bub1y &lt; 0) { this.bub1y = random_int(0,14); this.bub1x = random_int(0,14); }
if(this.bub2y &gt; 14) { this.bub2y = random_int(0,4); this.bub2x = random_int(0,14); }
if(this.bub2y &lt; 0) { this.bub2y = random_int(0,14); this.bub2x = random_int(0,14); }

//if(this.bub3y &gt; 14) { this.bub3y = random_int(0,4); this.bub3x = random_int(0,14); }

this.bub1x += this.hforce * 0.25;
this.bub2x += this.hforce * 0.25;

this.bub1y += this.vforce * 0.25;
this.bub2y += this.vforce * 0.25;
//this.bub3y += 0.25;

draw_sprite(s_bubble, 0, ceil(x+this.bub1x), ceil(y+this.bub1y));
draw_sprite(s_bubble, 0, ceil(x+this.bub2x), ceil(y+this.bub2y));
//draw_sprite(s_bubble, 0, x+this.bub3x, y+this.bub3y);</script><script name="scr_2373" object="o_kot" event="Collision" parameter="o_watercurrent">this.vye = other.vforce;
this.vxe = other.hforce;
if(other.vforce &lt; 0) this.nogravity = true;</script><script name="scr_2374" object="o_deco_bubble" event="Draw" parameter="">draw_sprite(sprite_index, 0, ceil(x), ceil(y));</script><script name="scr_2376" object="o_watercurrent_l" event="End step" parameter="">let nwc = instance_create(x, y, o_watercurrent);
nwc.hforce = -2;
nwc.vforce = 0;
instance_destroy();</script><script name="scr_2376" object="o_watercurrent_r" event="End step" parameter="">let nwc = instance_create(x, y, o_watercurrent);
nwc.hforce = 2;
nwc.vforce = 0;
instance_destroy();</script><script name="scr_2376" object="o_watercurrent_u" event="End step" parameter="">let nwc = instance_create(x, y, o_watercurrent);
nwc.hforce = 0;
nwc.vforce = -2.5;
instance_destroy();</script><script name="scr_2376" object="o_watercurrent_d" event="End step" parameter="">let nwc = instance_create(x, y, o_watercurrent);
nwc.hforce = 0;
nwc.vforce = 2;
instance_destroy();</script><script name="scr_2267" object="o_bl_bridge" event="End step" parameter="">let g = instance_create(x, y, o_autotile);
g.tileset = ts_bridge;
instance_destroy();</script><script name="scr_2159" object="o_enemy_fishjump" event="Step" parameter="">if(game_paused) return;
if(x-8 &gt; room_viewport_x+room_viewport_width) return;
if(x &lt; room_viewport_x-despawn_margin) instance_destroy()

let svx = sign(this.vx);
if(svx != 0) this.sprite_dir = svx;

this.vx += this.vx_accel;
if(this.vx &gt; this.vx_max) this.vx = this.vx_max;
if(this.vx &lt; -this.vx_max) this.vx = -this.vx_max;

if(!this.fired) {
	this.fired = true;
	this.vy = -4.5;
}

if(!this.falling &amp;&amp; y &lt;= ystart) {
	this.vy *= 0.5;
	this.falling = true;
}

if(this.falling) this.vy += this.gravity;
else this.vy + this.gravity*0.5;

x += this.vx;
y += this.vy;</script><script name="scr_2160" object="o_enemy_fishjump" event="Draw" parameter="">draw_sprite_ext(sprite_index, image_index, ceil(x), ceil(y), 1*this.sprite_dir, 1, 0, 1);
//draw_sprite_ext(sprite_index, 1, ceil(x), ceil(y), 1*this.sprite_dir, 1, 0, 1);
//draw_sprite_ext(s_heli, image_index, ceil(x), ceil(y+1), 1*this.sprite_dir, 1, 0, 1);
</script><script name="scr_2162" object="o_enemy_fishjump" event="Creation" parameter="">image_speed = 0.1;

x += character_spawn_offset_x;
xstart += character_spawn_offset_x;
y += character_spawn_offset_y;
ystart += character_spawn_offset_y;

y = room_height;

this.reward = 300;

this.vx = 0;
this.vy = 0;
this.vx_accel = -0.3;
this.vx_max = 2;

this.gravity = 0.3;

this.fired = false;
this.sprite_dir = -1;
this.falling = false;
this.dead = false;

this.die = function() {
	this.dead = true;
	spawn_corpse(x, y, sprite_index, sprite_dir, 0, 2);
	instance_destroy();
}</script><script name="scr_2190" object="o_enemy_fishjump" event="Collision" parameter="o_dev_solid">/*
if(place_meeting(x+vx, y-vy, o_dev_solid)) {
	this.vx = -this.vx;
}
*/</script><script name="scr_2379" object="o_kot" event="Collision" parameter="o_enemy_fishjump">if(!this.dead &amp;&amp; !other.dead) {
	if(this.mode == this.m_foot) {
		if(this.vy &gt; -1 &amp;&amp; this.y+8&lt; other.y) {
			other.die();
			sound_c_play(snd_stomp);
			hud_object.score += other.reward;
			if(this.keyy == true) this.vy = -(this.jumppower * this.enemy_bounce_high);
			else this.vy = -(this.jumppower * this.enemy_bounce);
		} else {
			this.die();
		}
	} else {
		
		if(this.y+6 &lt; other.y) {
			other.die();
			sound_c_play(snd_stomp);
			hud_object.score += other.reward;
			this.vy = -this.jumppower;
		} else this.die();
	}
}</script><script name="" object="" event="" parameter=""/><script name="scr_2207" object="o_enemy_shark" event="Creation" parameter="">x += 4;
xstart += 4;
y += 4;
ystart += 4;

this.reward = 300;

this.dead = false;
this.fired = false;
this.dead = false;
this.vx = -3;
this.vy = 0;
this.vx_max = 2;
this.vy_max = 1.5;
this.vx_accel = 0.25;
this.vy_accel = 0.25;
this.sprite_dir = -1;

image_speed = 0.1;

this.die = function() {
	spawn_corpse(x, y, sprite_index, sprite_dir);
	instance_destroy();
}</script><script name="scr_2208" object="o_enemy_shark" event="Draw" parameter="">draw_sprite_ext(sprite_index, image_index, ceil(x), ceil(y), this.sprite_dir, 1, 0, 1);</script><script name="scr_2209" object="o_enemy_shark" event="Collision" parameter="o_dev_solid">//this.die();</script><script name="scr_2210" object="o_enemy_shark" event="Step" parameter="">if(game_paused) return;
if(x &gt; room_viewport_x+room_viewport_width) return;
if( y + 16 &gt; room_height ) instance_destroy();
if(x &lt; room_viewport_x-despawn_margin) instance_destroy();

if(abs(player_object.x - x) &gt; 8) {
	if(player_object.x &lt; x) { this.vx -= this.vx_accel; this.sprite_dir = -1}
	if(player_object.x &gt; x) { this.vx += this.vx_accel; this.sprite_dir = 1 }
} else {
	this.vx *= 0.8;
}

if(abs(player_object.y - y) &gt; 8) {
	if(player_object.y &lt; y) this.vy -= this.vy_accel;
	if(player_object.y &gt; y) this.vy += this.vy_accel;
} else {
	this.vy *= 0.8;
}

if(this.vx &gt; this.vx_max) this.vx = this.vx_max;
if(this.vx &lt; -this.vx_max) this.vx = -this.vx_max;
if(this.vy &gt; this.vy_max) this.vy = this.vy_max;
if(this.vy &lt; -this.vy_max) this.vy = -this.vy_max;

if(place_meeting(x+this.vx, y, o_dev_solid) == null &amp;&amp; place_meeting(x+this.vx, y, o_water) == null) x += this.vx;
if(place_meeting(x, y+this.vy, o_dev_solid) == null &amp;&amp; place_meeting(x, y+this.vy, o_water) == null) y += this.vy;</script><script name="scr_2386" object="o_enemy_floatingspike" event="Creation" parameter="">this.vx = 0;
this.vy = 0;</script><script name="scr_2387" object="o_enemy_floatingspike" event="Step" parameter="">if(game_paused) return;
//if(x-8 &gt; room_viewport_x+room_viewport_width) return;
if(x &lt; room_viewport_x-despawn_margin) instance_destroy()

x += this.vx;
y += this.vy;</script><script name="scr_2388" object="o_enemy_floatingspike" event="Collision" parameter="o_platform_reverse">this.vx = -this.vx;
this.vy = -this.vy;</script><script name="scr_2389" object="o_enemy_floatingspike" event="Collision" parameter="o_dev_solid">this.vx = -this.vx;
this.vy = -this.vy;</script><script name="scr_2392" object="o_enemy_fspike_l" event="End step" parameter="">let nsp = instance_create(x, y, o_enemy_floatingspike);
nsp.vx -= 1.5;
instance_destroy();</script><script name="scr_2393" object="o_enemy_floatingspike" event="Draw" parameter="">draw_sprite(sprite_index, image_index, ceil(x), ceil(y));</script><script name="scr_2392" object="o_enemy_fspike_u" event="End step" parameter="">let nsp = instance_create(x, y, o_enemy_floatingspike);
nsp.vy -= 1.5;
instance_destroy();</script><script name="scr_1734" object="o_enemy_robot" event="Draw" parameter="">draw_sprite_ext(sprite_index, image_index, ceil(x), ceil(y), 1*this.sprite_dir, 1, 0, 1);</script><script name="scr_1735" object="o_enemy_robot" event="Creation" parameter="">x += character_spawn_offset_x;
xstart += character_spawn_offset_x;
y += character_spawn_offset_y;
ystart += character_spawn_offset_y;

this.reward = 300;

this.vx = -0.5;
this.vy = 0;
this.sprite_dir = -1;
this.grounded = false;
this.dead = false;
this.dead_fade = 0;
this.dead_fade_max = 60;
this.jumppower = 7;

this.vx_max = 1.5;
this.vy_max = 4;
this.gravity = 0.5;

this.image_speed_max = image_speed = 0.2;

this.die = function(how=0) {
	if(!this.dead) {
		this.dead = true;
		spawn_corpse(x, y, sprite_index, sprite_dir);
		instance_destroy();
		return;
		/*
		if(how == 1) {
			
		}
		sprite_index = s_enemy_rat_dead;
		this.vx = 0;
		this.dead_fade = 0;
		*/
	}
}</script><script name="scr_1736" object="o_enemy_robot" event="Step" parameter="">if(game_paused) return;
if(x &gt; room_viewport_x+room_viewport_width) return;
if( y + 16 &gt; room_height ) instance_destroy();
if(x &lt; room_viewport_x-despawn_margin) instance_destroy()

if(this.grounded) {
	if(place_meeting(x+this.vx*2, y, o_dev_solid) != null || place_meeting(x+this.vx, y+16, o_dev_solid) == null) {
		if(place_meeting(x, y-32, o_dev_solid) == null) this.vy = -this.jumppower;
	}
}

if(abs(player_object.x - x) &gt; 8) {
	if(player_object.x &lt; x) { this.vx = -this.vx_max; this.sprite_dir = -1}
	if(player_object.x &gt; x) { this.vx = this.vx_max; this.sprite_dir = 1 }
} else {
	this.vx = 0;
}

if(place_meeting(x-this.vx, y, o_dev_solid) != null || place_meeting(x+this.vx, y, o_dev_solid) != null) { this.vx = -this.vx; this.sprite_dir = -this.sprite_dir}
this.vy += this.gravity;
if(place_meeting(x, y+this.vy, o_dev_solid) != null) {
	this.vy = 0;
	//image_speed = this.image_speed_max;
	this.grounded = true;
} else {
	image_speed = 0;
	this.grounded = false
}

if(this.grounded &amp;&amp; this.vx != 0) image_speed = this.image_speed_max;
else { image_speed = 0; image_index = 0; }

if(this.vx &gt; this.vx_max) this.vx = this.vx_max;
if(this.vx &lt; -this.vx_max) this.vx = -this.vx_max;

if(this.dead) {
	if(this.dead_fade &gt;= this.dead_fade_max) instance_destroy();
	this.dead_fade += 1;
}

// Trampoline interaction
let trmp = place_meeting(x, y+2, o_trampoline);
if(trmp == null) trmp = place_meeting(x, y-2, o_trampoline); 
if(trmp != null) {
	sound_c_play(snd_trampoline);
	this.vy = (-8)*trmp.dir;
	trmp.image_speed = 0.5;
}

if(place_meeting(x+this.vx*2, y, o_dev_solid) == null) x += this.vx;
y += this.vy;</script><script name="scr_1757" object="o_enemy_robot" event="End step" parameter=""/><script name="scr_1951" object="o_enemy_robot" event="Collision" parameter="o_enemy_spikes">this.die(1);</script><script name="scr_2182" object="o_enemy_robot" event="Collision" parameter="o_enemy_cactus">this.die(1);</script><script name="scr_2199" object="o_enemy_robot" event="Collision" parameter="o_enemy_crusher">this.die();</script><script name="scr_2417" object="o_kot" event="Collision" parameter="o_enemy_robot">if(!other.dead &amp;&amp; !this.dead) {
	if(this.vy &gt; 0 &amp;&amp; this.y &gt; other.y+4) {
		other.die();
		sound_c_play(snd_stomp);
		hud_object.score += other.reward;
		if(this.keyy == true) this.vy = -(this.jumppower * this.enemy_bounce_high);
		else this.vy = -(this.jumppower * this.enemy_bounce);
	} else {
		this.die();
	}
}</script><script name="scr_1734" object="o_enemy_bigbot" event="Draw" parameter="">draw_sprite_ext(sprite_index, image_index, ceil(x), ceil(y), 1*this.sprite_dir, 1, 0, 1);
/*
draw_sprite_text(x, y-32, this.state.toString());
draw_sprite_text(x, y-24, this.tick.toString());
draw_sprite_text(x, y-16, this.image_index.toString());
*/</script><script name="scr_1735" object="o_enemy_bigbot" event="Creation" parameter="">x += character_spawn_offset_x;
xstart += character_spawn_offset_x;
y += character_spawn_offset_y;
ystart += character_spawn_offset_y;

this.reward = 300;

this.vx = -0.5;
this.vy = 0;
this.sprite_dir = -1;
this.grounded = false;
this.dead = false;
this.dead_fade = 0;
this.dead_fade_max = 60;
this.jumppower = 7;
this.tick = 0;
this.state = 0;

this.vx_max = 1;
this.vy_max = 4;
this.gravity = 0.5;

this.image_speed_max = image_speed = 0.2;

this.die = function(how=0) {
	if(!this.dead) {
		this.dead = true;
		spawn_corpse(x, y, sprite_index, sprite_dir);
		instance_destroy();
		return;
		/*
		if(how == 1) {
			
		}
		sprite_index = s_enemy_rat_dead;
		this.vx = 0;
		this.dead_fade = 0;
		*/
	}
}</script><script name="scr_1736" object="o_enemy_bigbot" event="Step" parameter="">if(game_paused) return;
if(x &gt; room_viewport_x+room_viewport_width) return;
if( y + 16 &gt; room_height ) instance_destroy();
if(x &lt; room_viewport_x-despawn_margin) instance_destroy()

this.tick += 1;

if(this.state == 0) { // chase player
	sprite_index = s_enemy_bigbot;
	
	if(this.tick &gt;= 60) {
		this.tick = 0;
		this.state = 1;
	}
	
	if(this.grounded) {
		if(place_meeting(x+this.vx*2, y, o_dev_solid) != null || place_meeting(x+this.vx, y+16, o_dev_solid) == null) {
			this.vy = -this.jumppower;
		}
	}
	
	if(abs(player_object.x - x) &gt; 8) {
		if(player_object.x &lt; x) { this.vx = -this.vx_max; this.sprite_dir = -1}
		if(player_object.x &gt; x) { this.vx = this.vx_max; this.sprite_dir = 1 }
	} else {
		this.vx = 0;
	}

	if(this.grounded &amp;&amp; this.vx != 0) image_speed = this.image_speed_max;
	else { image_speed = 0; image_index = 0; }
	
}
if(this.state == 1) { // stand still before shooting
	image_index = 0;
	image_speed = 0;
	this.vx *= 0.95;
	
	if(this.tick &gt;= 5) {
		this.tick = 0;
		this.state = 2;
	}
}

if(this.state == 2) { // prepare to shoot
	this.vx = 0;
	sprite_index = s_enemy_bigbot_shoot;
	if(this.tick == 2) image_index = 1;
	if(this.tick == 4) image_index = 2;
	if(this.tick == 6) image_index = 3;
	if(this.tick == 7) {
		if(abs(player_object.y - y) &gt; 8 &amp;&amp; this.grounded) this.vy = -jumppower; //try to aim at the player if theyre standing above 
	}
	
	if(this.tick &gt;= 10) {
		this.tick = 0;
		image_speed = 0;
		image_index = 3;
		let nb = instance_create(x+(this.sprite_dir*4), y-2, o_enemy_bullet);
		nb.vx = 4*this.sprite_dir;
		this.state = 3;
	}
}
if(this.state == 3) { // stand still after shooting
	image_speed = 0;
	
	if(this.tick &gt;= 5) {
		this.tick = 0;
		this.state = 4;
	}
}
if(this.state == 4) { // reverse shooting animation and get back to chase mode
	if(this.tick == 2) image_index = 2;
	if(this.tick == 4) image_index = 1;
	if(this.tick == 6) image_index = 0;
	
	if(this.tick &gt;= 10) {
		this.tick = 0;
		this.state = 0;
	}
}

if(place_meeting(x-this.vx, y, o_dev_solid) != null || place_meeting(x+this.vx, y, o_dev_solid) != null) { this.vx = -this.vx; this.sprite_dir = -this.sprite_dir}
this.vy += this.gravity;
if(place_meeting(x, y+this.vy, o_dev_solid) != null) {
	this.vy = 0;
	//image_speed = this.image_speed_max;
	this.grounded = true;
} else {
	image_speed = 0;
	this.grounded = false
}

if(this.vx &gt; this.vx_max) this.vx = this.vx_max;
if(this.vx &lt; -this.vx_max) this.vx = -this.vx_max;

if(this.dead) {
	if(this.dead_fade &gt;= this.dead_fade_max) instance_destroy();
	this.dead_fade += 1;
}

// Trampoline interaction
let trmp = place_meeting(x, y+2, o_trampoline);
if(trmp == null) trmp = place_meeting(x, y-2, o_trampoline); 
if(trmp != null) {
	sound_c_play(snd_trampoline);
	this.vy = (-8)*trmp.dir;
	trmp.image_speed = 0.5;
}

x += this.vx;
y += this.vy;</script><script name="scr_1757" object="o_enemy_bigbot" event="End step" parameter=""/><script name="scr_1951" object="o_enemy_bigbot" event="Collision" parameter="o_enemy_spikes">this.die(1);</script><script name="scr_2182" object="o_enemy_bigbot" event="Collision" parameter="o_enemy_cactus">this.die(1);</script><script name="scr_2199" object="o_enemy_bigbot" event="Collision" parameter="o_enemy_crusher">this.die();</script><script name="scr_2418" object="o_kot" event="Collision" parameter="o_enemy_bigbot">if(!other.dead &amp;&amp; !this.dead) {
	if(this.vy &gt; 0 &amp;&amp; this.y &gt; other.y+4) {
		other.die();
		sound_c_play(snd_stomp);
		hud_object.score += other.reward;
		if(this.keyy == true) this.vy = -(this.jumppower * this.enemy_bounce_high);
		else this.vy = -(this.jumppower * this.enemy_bounce);
	} else {
		this.die();
	}
}</script><script name="scr_2422" object="o_enemy_bullet" event="Creation" parameter="">this.vx = 0;
this.vy = 0;
this.delete = false;
this.sprite_dir = -1;</script><script name="scr_2423" object="o_enemy_bullet" event="Step" parameter="">if(game_paused == true) return;
if(this.delete == true) instance_destroy(); // just calling the instance destroy function from other objects didn't work for god knows what reason while i was working on the level editor so i'm doing things this way right away on this one
if(x &gt; room_viewport_x+room_viewport_width) instance_destroy();
if(x &lt; room_viewport_x-despawn_margin) instance_destroy();
if(place_meeting(x, y, o_dev_solid)) instance_destroy();
if(place_meeting(x, y, o_enemy_spikes)) instance_destroy();
if(place_meeting(x, y, o_enemy_cactus)) instance_destroy();
if(place_meeting(x, y, o_enemy_floatingspike)) instance_destroy();

if(this.vx &gt; 0) this.sprite_dir = 1;
else this.sprite_dir = -1;

x += this.vx;
y += this.vy;</script><script name="scr_2424" object="o_enemy_rat" event="Collision" parameter="o_enemy_bullet">this.die(1);
other.delete = true;</script><script name="scr_2425" object="o_enemy_bullet" event="Draw" parameter="">draw_sprite_ext(sprite_index, 0, ceil(x), ceil(y), this.sprite_dir, 1, 0, 1);</script><script name="scr_2426" object="o_autotile" event="Creation" parameter="">this.tileset = ts_panel;
this.bls = 16;</script><script name="scr_2428" object="o_bl_ground" event="End step" parameter="">let g = instance_create(x, y, o_autotile);
g.tileset = ts_ground;
instance_destroy();</script><script name="scr_2432" object="o_titlescreen" event="Draw" parameter="">if(game_started) return;

if(keyboard_check(vk_backspace) || keyboard_check(vk_f1)) {
	draw_dialog(this.sx, this.sy, this.sw, this.sh);
	draw_sprite_text(this.sx, this.sy, "OSWALD " + game_meta_version);
	draw_sprite_text(this.sx, this.sy+16, "Code, graphics, sound, design:");
	draw_sprite_text(this.sx, this.sy+24, "MICAI");
	
	draw_sprite_text(this.sx, this.sy+40, "Additional graphics and design:");
	draw_sprite_text(this.sx, this.sy+48, "AMANOJAKUCHOU");
	
	draw_sprite_text(this.sx, this.sy+64, "Additional graphics and testing:");
	draw_sprite_text(this.sx, this.sy+72, "SOUP");
	
	draw_sprite_text(this.sx, this.sy+88, "Additional level design:");
	draw_sprite_text(this.sx, this.sy+96, "MRADAM");
	
	draw_sprite_text(this.sx, this.sy+112, "Testers and contributors:");
	draw_sprite_text(this.sx, this.sy+120, "NI240SX, MIZU, OSDEVER, AETHUS, MRDAWN");
	
	draw_sprite_text(this.sx, this.sy+136, "Made with Tululoo Game Maker");
}</script><script name="scr_2435" object="o_titlescreen" event="Creation" parameter="">this.sx = 8;
this.sy = 8;
this.sw = 320;
this.sh = 160;</script><script name="scr_2440" object="o_mobile_controls_setup" event="Creation" parameter="">var mobb_left = document.getElementById("mbleft");
var mobb_right = document.getElementById("mbright");
var mobb_jump = document.getElementById("mbjump");

mobb_left.addEventListener("touchstart", function() { key_down[k_left] = true; });
mobb_left.addEventListener("touchend", function() { key_down[k_left] = false; });

mobb_right.addEventListener("touchstart", function() { key_down[k_right] = true; });
mobb_right.addEventListener("touchend", function() { key_down[k_right] = false; });

mobb_jump.addEventListener("touchstart", function() { 
	key_down[k_jump] = true; 
	key_pressed[k_jump] = true; 
	key_released[k_jump] = false; 
});
	
mobb_jump.addEventListener("touchend", function() { 
	key_down[k_jump] = false; 
	key_pressed[k_jump] = false; 
	key_released[k_jump] = true;
});
</script><script name="scr_2443" object="o_mobile_controls_step" event="End step" parameter="">key_pressed[k_jump] = false; 
key_released[k_jump] = false;</script></scripts><scenes count="3"><scene name="sc_init" width="320" height="160" speed="60" red="255" green="255" blue="255" background="" backgroundstretch="0" backgroundtilex="0" backgroundtiley="0" viewportwidth="320" viewportheight="160" viewportxborder="50" viewportyborder="50" viewportobject="">/*
if(typeof screen !== "undefined") {
	screen.orientation.lock("landscape");
}*/

if(typeof dispconfLoad !== "undefined") {
	dispconfLoad();
}

room_goto_next();</scene><scene name="sc_game" width="500000" height="160" speed="60" red="255" green="255" blue="255" background="" backgroundstretch="0" backgroundtilex="1" backgroundtiley="1" viewportwidth="320" viewportheight="160" viewportxborder="320" viewportyborder="160" viewportobject="o_camera">if(typeof dispconfLoad !== "undefined") {
	dispconfLoad();
}</scene><scene name="sc_prototype" width="3200" height="160" speed="60" red="255" green="255" blue="255" background="" backgroundstretch="0" backgroundtilex="1" backgroundtiley="1" viewportwidth="320" viewportheight="160" viewportxborder="320" viewportyborder="50" viewportobject="o_kot">if(typeof dispconfLoad !== "undefined") {
	dispconfLoad();
}</scene></scenes><layers count="3"><layer name="layer_10" scene="sc_game" value="1000000"/><layer name="layer_449" scene="sc_init" value="1000000"/><layer name="layer_1890" scene="sc_prototype" value="1000000"/></layers><tiles count="1"><tile name="tile_1559" background="ts_brick" width="1" height="1" x="16" y="48" top="0" left="0" depth="1000000" scene="sc_init"/></tiles><fns count="15"><fn name="draw_sprite_text" params="x,y,text" description="">for (i = 0; i &lt; text.length+1; i += 1) {
	if(text.charCodeAt(i)-32 &gt; 0) draw_sprite(s_font, text.charCodeAt(i)-32, x+i*8, y);
}</fn><fn name="prefab_newent" params="bx, by, ent, arg=null" description="">let e = instance_create(bx*16, by*16, ent);
e.arg = arg;</fn><fn name="ccheck" params="" description="">this.chc = keyboard_string.toLowerCase();

// debug
//if(this.chc.endsWith("dbg")) { keyboard_string =  ""; debug = !debug  }

// characters
if(this.chc.endsWith("fatman")) change_costume("fat");
if(this.chc.endsWith("bigguy")) change_costume("tall");
if(this.chc.endsWith("oswald")) change_costume("default");
if(this.chc.endsWith("imissmywife")) change_costume("girl");
if(this.chc.endsWith("howdy")) change_costume("hat");
if(this.chc.endsWith("weeder")) change_costume("soup");
if(this.chc.endsWith("agent")) change_costume("agent");
if(this.chc.endsWith("chinesebbq")) change_costume("burnt");
if(this.chc.endsWith("troll")) change_costume("troll");
if(this.chc.endsWith("brokebadly")) change_costume("dealer");
if(this.chc.endsWith("clayless")) change_costume("claymore");
if(this.chc.endsWith("bannedfromchina")) change_costume("bear");
if(this.chc.endsWith("realisation")) change_costume("skull");</fn><fn name="highscore_update" params="" description="">save_web_integer("la", last_score);
if(last_score &gt; high_score) { 
	high_score = last_score;
	save_web_integer("hi", high_score);
}</fn><fn name="change_costume" params="costume" description="">if(costume in player_costumes) {
	player_character = player_costumes[costume];
	save_web_string("costume", costume);
	return true;
}
return false;</fn><fn name="input_pressed" params="k1=-1, k2=-1, k3=-1" description="">return key_pressed[k1] || key_pressed[k2] || key_pressed[k3];</fn><fn name="input_released" params="k1=-1, k2=-1, k3=-1" description="">return key_released[k1] || key_released[k2] || key_released[k3];</fn><fn name="input_down" params="k1=-1, k2=-1, k3=-1" description="">return key_down[k1] || key_down[k2] || key_down[k3];</fn><fn name="input_down_int" params="k1=-1, k2=-1, k3=-1" description="">if(key_down[k1] || key_down[k2] || key_down[k3]) return 1;
return 0;</fn><fn name="sound_c_play" params="sound" description="">if(sound_enabled) sound_play(sound);</fn><fn name="spawn_corpse" params="x=0, y=0, sprite=s_cat_burnt, dir=1, vx=0, vy=-12" description="">let corpse = instance_create(x, y, o_corpse);
corpse.sprite_index = sprite;
corpse.sprite_dir = dir;
corpse.vx = vx;
corpse.vy = vy;
return corpse;</fn><fn name="autotile" params="me, bls, tileset, col" description="">me.image_speed = 0;
me.image_index = 0;

me.hor = 0;
me.ver = 0;

if(me.y == 0) instance_create(me.x, me.y-bls, me.object_index);
if(me.y == room_height-bls) instance_create(me.x, me.y+bls, me.object_index);

if(me.place_meeting(me.x+bls, me.y, me.object_index)){me.hor = 1}
if(me.place_meeting(me.x-bls, me.y, me.object_index))
{
    if(me.hor == 1){me.hor = 2}
    else{me.hor = 3}
}

if(me.place_meeting(me.x, me.y+bls, me.object_index)){me.ver = 1}
if(me.place_meeting(me.x, me.y-bls, me.object_index))
{
    if(me.ver == 1){me.ver = 2}
    else{me.ver = 3}
}

me.image_index = 4*me.ver + me.hor;
tile_add(tileset, me.image_index*bls, 0, bls, bls, me.x, me.y, 1);
if(!(me.y + 16 &gt;= room_height &amp;&amp; me.image_index == 14)) {
	if(me.image_index != 10) instance_create(me.x, me.y, col);
}</fn><fn name="random_int" params="minn=0, maxn=1" description="">return Math.round(Math.random() * (maxn - minn) + minn);</fn><fn name="marker" params="xn, yn, txt=&quot;&quot;" description="">if(!debug) return;
let mark = instance_create(xn, yn, o_debug_marker);
mark.text = txt;</fn><fn name="draw_dialog" params="x, y, w, h" description="">//draw_set_color(0,0,0);
//draw_rectangle(x,y,w,h,true);
draw_set_color(255,255,255);
//draw_rectangle(x-1,y-1,w+1,h+1,true);
draw_rectangle(x,y,w,h,false);</fn></fns></tululoo>